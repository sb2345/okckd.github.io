
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Shuatiblog.com</title>
  <meta name="author" content="CodeMonkey">

  
  <meta name="description" content="Polymorphism Polymorphism is to use common interface instead of concrete implementation while coding. When we program for interface our code is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.shuatiblog.com/posts/17/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Shuatiblog.com" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.shuatiblog.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="blue_light">
            Shuatiblog.com
        </span>
       
    </a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/22/Discussion-of-Polymorphism/">[Java OOP] Discussion of Polymorphism</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-22T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/22/Discussion-of-Polymorphism/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Polymorphism</h3>

<p>Polymorphism is to <a href="http://javarevisited.blogspot.sg/2011/08/what-is-polymorphism-in-java-example.html">use common interface</a> instead of concrete implementation while coding.</p>

<p>When we program for interface our code is capable of handling any new requirement or enhancement arise in near future due to new implementation of our common interface. If we don&rsquo;t use common interface and rely on concrete implementation, we always need to change and duplicate most of our code to support new implementation.</p>

<p>The most common use of polymorphism in OOP occurs when a parent class reference is used to refer to a child class object.</p>

<h3>Example</h3>

<p>Example of Bicycle class given on <a href="http://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html">official oracle website</a>:</p>

<pre><code>public class Bicycle{
    public void printDescription(){
        System.out.println("\nBike is " + "in gear " + this.gear
            + " with a cadence of " + this.cadence +
            " and travelling at a speed of " + this.speed + ". ");
    }
}

public class MountainBike extends Bicycle {
    private String suspension;

    public void printDescription() {
        super.printDescription();
        System.out.println("The " + "MountainBike has a" +
            getSuspension() + " suspension.");
    }
}

public class RoadBike extends Bicycle{
    private int tireWidth;

    public void printDescription(){
        super.printDescription();
        System.out.println("The RoadBike" + " has " + getTireWidth() +
            " MM tires.");
    }
}

public class TestBikes {
    public static void main(String[] args){
        Bicycle bike01, bike02, bike03;

        bike01 = new Bicycle(20, 10, 1);
        bike02 = new MountainBike(20, 10, 5, "Dual");
        bike03 = new RoadBike(40, 20, 8, 23);

        bike01.printDescription();
        bike02.printDescription();
        bike03.printDescription();
    }
}
</code></pre>

<p>The output:</p>

<pre><code>Bike is in gear 1 with a cadence of 20 and travelling at a speed of 10. 

Bike is in gear 5 with a cadence of 20 and travelling at a speed of 10. 
The MountainBike has a Dual suspension.

Bike is in gear 8 with a cadence of 40 and travelling at a speed of 20. 
The RoadBike has 23 MM tires.
</code></pre>

<p>Referring to the same page, <strong>JVM calls the appropriate method for the object that is referred to in each variable</strong>. It does not call the method that is defined by the variable&rsquo;s type.</p>

<h3>Another example</h3>

<p>Cylinder is a subclass of Circle. We can say that Cylinder &ldquo;is-a&rdquo; Circle.</p>

<p>We can create an instance of Cylinder, and assign it to a Circle reference:</p>

<blockquote><p>Circle c1 = new Cylinder();</p></blockquote>

<p>You can invoke all the methods defined in the Circle class, but <strong>you cannot invoke methods defined in the Cylinder class</strong>. c1 is a reference to the Circle class, which does not know about the methods defined in the subclass Cylinder.</p>

<p><strong>The reference c1, however, retains its internal identity</strong>. Since Cylinder overrides getArea() method, calling c1.getArea() will invokes the overridden version defined in subclass Cylinder, instead of in Circle. This is because c1 is holding a Cylinder object internally.</p>

<p>The code is below:</p>

<pre><code>public class PolymorphismSubstitutabilityDemo {

    public static void main(String[] args) {
        Circle c1 = new Cylinder(1, "white", 10);
        System.out.println(c1.getClass());
        System.out.println(c1.getRadius());
        System.out.println(c1.getColor());
        System.out.println(c1.getArea());
    }
}

class Circle {
    int radius;
    String color;

    public Circle(int a, String b) {
        this.radius = a;
        this.color = b;
    }

    public int getRadius() {
        return radius;
    }

    public String getColor() {
        return color;
    }

    public double getArea() {
        return 3.14159 * Math.pow(radius, 2);
    }
}

class Cylinder extends Circle {
    int height;

    public Cylinder(int a, String b, int c) {
        super(a, b);
        this.height = c;
    }

    public int getHeight() {
        return height;
    }

    public double getArea() {
        return super.getArea() * height;
    }
}
</code></pre>

<p>The output of execution:</p>

<pre><code>class Cylinder
1
white
31.4159
</code></pre>

<h3>Summary:</h3>

<p><a href="http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html">ref</a></p>

<ol>
<li><p>A subclass instance can be assigned (substituted) to a superclass&#8217; reference.</p></li>
<li><p>Once substituted, we can invoke methods defined in the superclass; we cannot invoke methods defined in the subclass.</p></li>
<li><p>However, if the subclass overrides inherited methods from the superclass, the subclass (overridden) versions will be invoked.</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/18/Binary-Search-Tree-3Sum/">[Facebook] Binary Search Tree 3Sum</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-18T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/18/Binary-Search-Tree-3Sum/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p>DLL &ndash; <a href="http://www.geeksforgeeks.org/find-if-there-is-a-triplet-in-bst-that-adds-to-0/">link</a></p>

<p>Inorder &ndash; <a href="http://www.geeksforgeeks.org/find-a-pair-with-given-sum-in-bst/">link</a></p>

<blockquote><p>Given a BST, write a function that returns true if there is a triplet that sums to 0, returns false otherwise.</p></blockquote>

<h3>Solution</h3>

<p>We will solve the question just like we do <strong>[LeetCode 15] 3Sum</strong>. What is missing is an random access of tree nodes, like we have in array.</p>

<p>In fact, we do not need random access. Tree traversal (one after another in sequence) would be good enough.</p>

<p>Now there&rsquo;re 2 solution. <strong>First is to convert the tree to Double-linked list</strong>, then do 3Sum. The conversion takes O(n) time and O(logn) extra space, and 3Sum take O(n<sup>2</sup>). however doing this modifies the original tree.</p>

<p><strong>Second solution is to to inorder traversal and reversed inorder traversal</strong>. This is a better solution, personally. And the time and space used is same.</p>

<h3>Code</h3>

<p><strong>DLL way, written by me</strong></p>

<pre><code>public void findTriplet(TreeNode root, int target) {
    TreeNode[] dll = convertToDll(root);
    TreeNode head = dll[0];
    TreeNode tail = dll[1];
    // note that the bst inorder dll should already in sorted by value
    TreeNode first = head;
    while (first.right != null) {
        TreeNode left = first.right;
        TreeNode right = tail;
        while (left.val &lt; right.val) {
            int diff = first.val + left.val + right.val - target;
            if (diff == 0) {
                System.out.println("Found triplet: " + first.val + " "
                        + left.val + " " + right.val + " for sum of "
                        + target);
            }
            if (diff &lt;= 0) {
                left = left.right;
            }
            if (diff &gt;= 0) {
                right = right.left;
            }
        }
        first = first.right;
    }
}

private TreeNode[] convertToDll(TreeNode node) {
    TreeNode[] ans = new TreeNode[2];
    // do the left side of node
    if (node.left == null) {
        ans[0] = node;
    } else {
        TreeNode[] preAns = convertToDll(node.left);
        ans[0] = preAns[0];
        node.left = preAns[1];
        preAns[1].right = node;
    }
    // do the right side of node
    if (node.right == null) {
        ans[1] = node;
    } else {
        TreeNode[] postAns = convertToDll(node.right);
        ans[1] = postAns[1];
        node.right = postAns[0];
        postAns[0].left = node;
    }
    return ans;
}
</code></pre>

<p><strong>inorder way</strong> &ndash; basically is just <strong>iterator of binary tree</strong>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/17/equilibrium-points-in-2d-array/">[Question] Equilibrium Points in 2D Array</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-17T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/17/equilibrium-points-in-2d-array/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://get-that-job-at-google.blogspot.sg/2013/01/twitter-programming-test.html">link</a></p>

<blockquote><p>In a 2D matrix of dimensions M*N, find number of &ldquo;equilibrium&rdquo; points.  A point (i, j) is said to be an &ldquo;equilibrium&rdquo; point only if all following conditions hold:</p>

<p>a) sum of rows 1&hellip;(i-1) =  sum of rows (i+1)&hellip;M</p>

<p>b) sum of columns 1&hellip;(j-1)  = sum of columns (j+1)&hellip;N</p></blockquote>

<h3>Solution</h3>

<p>This is a generalize question of <strong>Equilibrium index</strong>.</p>

<p>Refer to <strong>Equilibrium index</strong>, read <a href="http://www.geeksforgeeks.org/equilibrium-index-of-an-array/">this</a>. <strong>The idea</strong> is to get total sum of array first. Then Iterate through the array calculate left sum == sum / 2.</p>

<blockquote><p>Equilibrium index of an array is an index such that the sum of elements at lower indexes is equal to the sum of elements at higher indexes. For example, in an arrya A:</p>

<p>A[0] = -7, A[1] = 1, A[2] = 5, A[3] = 2, A[4] = -4, A[5] = 3, A[6]=0</p>

<p>3 is an equilibrium index, because:
A[0] + A[1] + A[2] = A[4] + A[5] + A[6]</p>

<p>6 is also an equilibrium index, because sum of zero elements is zero, i.e., A[0] + A[1] + A[2] + A[3] + A[4] + A[5]=0</p></blockquote>

<p>Well, for Equilibrium Points in 2D Array, should be similar. DIY and leave me a comment!</p>

<h3>Code</h3>

<p><strong>code for <a href="http://rosettacode.org/wiki/Equilibrium_index#Java">findning EI in 1-D array</a></strong></p>

<pre><code>public List&lt;Integer&gt; findEI(int[] array) {
    List&lt;Integer&gt; ans = new ArrayList&lt;Integer&gt;();
    int sum = 0;
    for (int i = 0; i &lt; array.length; i++) {
        sum += array[i];
    }
    int runningSum = 0;
    for (int i = 0; i &lt; array.length; i++) {
        if (2 * runningSum + array[i] == sum) {
            ans.add(i);
        }
        runningSum += array[i];
    }
    return ans;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/17/Print-Binary-Tree-Vertically/">[Facebook] Print a Binary Tree in Vertical Order</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-17T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/17/Print-Binary-Tree-Vertically/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.geeksforgeeks.org/print-binary-tree-vertical-order/">link</a></p>

<blockquote><p>Given a binary tree, print it vertically. The following example illustrates vertical order traversal.</p></blockquote>

<pre><code>           1
        /    \
       2      3
      / \    / \
     4   5  6   7
             \   \
              8   9 

The output of print this tree vertically will be:
4
2
1 5 6
3 8
7
9 
</code></pre>

<h3>Solution</h3>

<ol>
<li><p>Traverse the tree once and get the minimum and maximum horizontal distance with respect to root.</p></li>
<li><p>Iterate the tree and for each vertical line, fill in the values.</p></li>
</ol>


<p>Now, getting the width of tree requires O(n) time. And entire solution is O(n) using a <strong><a href="www.geeksforgeeks.org/print-binary-tree-vertical-order-set-2/">HashMap</a></strong>.</p>

<h3>Code</h3>

<pre><code>public List&lt;List&lt;Integer&gt;&gt; printVertically(TreeNode root) {
    List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;List&lt;Integer&gt;&gt;();

    // 1. find the range of left bound and right bound
    int[] range = new int[2];
    findRange(root, range, 0);

    // 2. calculate number of columns in the result
    int rootIndex = 0 - range[0];
    int columns = range[1] - range[0] + 1;
    for (int i = 0; i &lt; columns; i++) {
        ans.add(new ArrayList&lt;Integer&gt;());
    }

    // 3. fill in vertically in a recursive manner
    fillNode(ans, root, rootIndex);

    return ans;
}

private void fillNode(List&lt;List&lt;Integer&gt;&gt; ans, TreeNode node, int index) {
    if (node == null) {
        return;
    }
    ans.get(index).add(node.val);
    fillNode(ans, node.left, index - 1);
    fillNode(ans, node.right, index + 1);
}

private void findRange(TreeNode node, int[] range, int position) {
    if (node == null) {
        return;
    }
    if (position &lt; range[0]) {
        range[0] = position;
    }
    if (position &gt; range[1]) {
        range[1] = position;
    }
    findRange(node.left, range, position - 1);
    findRange(node.right, range, position + 1);
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/08/patient-disease-data-structure/">[Epic] Patient Disease Data Structure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/08/patient-disease-data-structure/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.mitbbs.com/article_t0/JobHunting/32844253.html">link</a></p>

<blockquote><p>Suppose N patients and M diseases. N is sufficiently large number and M is
relatively small, say 30-ish. Each patient can have possible 0 to M kinds of
diseases.</p>

<p>Given one patient’s name, show me a list of similar patients sharing same
deseases within 2-3 seconds.</p></blockquote>

<h3>Solution</h3>

<p><strong>Use 1 bit to represent a disease</strong>. So every patient&rsquo;s conditin can be put into an integer of 32 bits.</p>

<p>How do we calculate the similarity of 2 patients?</p>

<p>Refer to <strong>[CC150v5] 5.5 Calculate Bits Conversion Required</strong> for a special bit operation (remove last &lsquo;1&rsquo; from bit):</p>

<blockquote><p>c = c &amp; (c &ndash; l) clears the least significant bit of &lsquo;1&rsquo;.</p>

<p>Keep doing this until all &lsquo;1&rsquo;s are cleared.</p></blockquote>

<p>For each patient, we simply calculate the XOR and count &lsquo;1&rsquo;s.</p>

<h3>Code</h3>

<p>no code.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/02/Axis-aligned-rectangle/">[Question] Axis Aligned Rectangles</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-02T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/12/02/Axis-aligned-rectangle/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://ankitsambyal.blogspot.sg/2013/10/finding-overlapping-rectangles-in-given.html">link</a>, MIT handouts Person_A</p>

<blockquote><p>Describe an algorithm that takes an unsorted array of axis-aligned rectangles and returns <strong>any pair of</strong> rectangles that overlaps, if there is such a pair.</p>

<p>Axis-aligned means that all the rectangle sides are either parallel or perpendicular to the x- and y-axis.</p>

<p>Each rectangle object has two variables: the x-y coordinates of the upper-left corner and the bottom-right corner.</p></blockquote>

<h3>Analysis</h3>

<p>A lot of different solutions on the internet, <a href="http://www.quora.com/Algorithms/Given-a-set-of-n-axis-aligned-rectangles-in-the-plane-find-how-big-is-the-largest-subset-of-these-rectangles-that-contain-a-common-point-in-O-n-3-and-then-in-order-O-nlogn">example 1</a> and <a href="http://ankitsambyal.blogspot.sg/2013/10/finding-overlapping-rectangles-in-given.html">example 2</a>, and some questions asks you to return all overlapping pairs. For now, we just return <strong>any pair</strong> that overlaps.</p>

<h3>Solution</h3>

<p>I concluded some solution and come up with this (the idea of BST is covered in the end of <a href="http://www.cs.princeton.edu/~rs/AlgsDS07/17GeometricSearch.pdf">this pdf</a>):</p>

<ol>
<li>Sort the input by left edge.</li>
<li>One by one, get one rectangle from the sorted input, and make a pair (rect.top, rect.bottom).</li>
<li>Insert this pair into a <strong>Interval Search Tree</strong>.</li>
<li>This tree is a BST, and use first value of the pair as BST key.</li>
<li>Insert pair at the correct BST location. If conflicts, we&rsquo;ve found 1 overlapping pair.</li>
</ol>


<p>The code for searching a intersect, and insert a pair looks like this:</p>

<pre><code>Node x = root;
while (x != null) {
    if (x.interval.intersects(lo, hi)) 
        return x.interval;
    else if (x.left == null)  x = x.right;
    else if (x.left.max &lt; lo) x = x.right;
    else                      x = x.left;
}
return null;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/30/multiples-of-3-and-5/">[Question] Multiples of 3 and 5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-30T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/11/30/multiples-of-3-and-5/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://projecteuler.net/problem=1">link</a></p>

<blockquote><p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</p>

<p>Find the sum of all the multiples of 3 or 5 below 1000.</p></blockquote>

<h3>Solution</h3>

<blockquote><p>The multiples of 3 are 3,6,9,12,15,18,21,24,27,30,&hellip;.</p>

<p>The multiples of 5 are 5,10,15,20,25,30,35,40,45,&hellip;.</p>

<p>The intersection of these two sequences is 15,30,45,&hellip;</p></blockquote>

<p><img class="middle" src="/assets/images/multiples-of-3-5.png"></p>

<p><a href="http://math.stackexchange.com/a/9260">source</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/04/Code-a-hashmap/">[Google] Code a HashMap</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-04T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/11/04/Code-a-hashmap/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.glassdoor.com/Interview/Code-a-hashmap-which-you-would-be-happy-to-place-into-a-production-environment-QTN_725885.htm">link</a></p>

<blockquote><p>Code a hashmap which you would be happy to place into a production environment.</p></blockquote>

<h3>Solution</h3>

<p>We already write 2 post before:</p>

<ol>
<li><p><strong>[Question] Implement a HashMap</strong></p></li>
<li><p><strong>[CC150v5] 8.10 Implement a Hashmap</strong></p></li>
</ol>


<p>But still, this is not an easy question when asked at an interview. It won&rsquo;t harm to do a little recap:</p>

<ol>
<li>The basic structure is an array. It can be:

<ol>
<li>An array of linked nodes (with a next pointer).</li>
<li>An array of linked list.</li>
</ol>
</li>
<li>There should be a hash function.</li>
<li>There should be a function to convert the hash value to corresponding array index.</li>
<li>Remember there&rsquo;s <strong>a concept of Load factor</strong>. It means to what percentage the hashmap is filled.</li>
<li>h &amp; (length – 1) means h % length, which maps a hashcode to an array index.</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/01/Find-row-with-most-1s/">[Question] Find Row With Most 1s</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-01T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/11/01/Find-row-with-most-1s/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.geeksforgeeks.org/find-the-row-with-maximum-number-1s/">link</a></p>

<blockquote><p>Given a 2D array with only 1s and 0s, where each row is sorted.</p>

<p>Find the row with the maximum number of 1s. Input matrix:</p></blockquote>

<pre><code>0 1 1 1
0 0 1 1
1 1 1 1  // this row has maximum 1s
0 0 0 0
</code></pre>

<blockquote><p>Output: 2</p></blockquote>

<h3>Analysis</h3>

<p>By using a modified version of binary search, we can achieve <strong><a href="http://www.geeksforgeeks.org/find-the-row-with-maximum-number-1s/">a O(mLogn) solution</a></strong> where m is number of rows and n is number of columns in matrix.</p>

<p><strong>However, there&rsquo;s better solution that works in linear time</strong>!</p>

<h3>Solution</h3>

<ol>
<li><p>Get the index of first (or leftmost) 1 in the first row.</p></li>
<li><p>Do following for every row after the first row:</p>

<ol>
<li><p>IF the element on left of previous leftmost 1 is 0, ignore this row.</p></li>
<li><p>ELSE Move left until a 0 is found. Update the leftmost index to this index and max_row_index to be the current row.</p></li>
</ol>
</li>
</ol>


<p>The time complexity is O(m+n).</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<pre><code>public int solution(int[][] matrix) {
    int m = matrix.length;
    int n = matrix[0].length;
    int p = n;
    int row = -1;
    for (int i = 0; i &lt; m; i++) {
        // now p is larger than 0, otherwise it's already terminated
        if (matrix[i][p - 1] == 0) {
            continue;
        }
        // p points to a 1, now search to the left direction
        for (int j = p - 1; j &gt;= 0; j--) {
            if (matrix[i][j] == 1) {
                p = j;
            } else {
                break;
            }
        }
        // p have a new value now
        if (p == 0) {
            return i;
        } else {
            row = i;
        }
    }
    return row;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/08/interleave-positive-negative/">[Question] Interleave Positive and Negative Numbers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2014/10/08/interleave-positive-negative/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzE4MjgyMw==&amp;mid=200355650&amp;idx=1&amp;sn=f94e87cb391fb12af9531cedb452dba1&amp;key=d232b50733c41de56b96f855d9cdea5824f24c712e158651b45d7fe139a94610a7561da1fab0104e968592b01f2439d4&amp;ascene=7&amp;uin=MzM2NjQyNQ%3D%3D&amp;pass_ticket=i7pJQweQbuRdnUFUt5cdOmapPc%2FDW6Xk40U7%2Bcg%2F0o8%3D">link</a></p>

<blockquote><p>给一个包含正负整数的数组，要求对这个数组中的数进行重新排列，使得其正负交替出现。首先出现负数，然后是正数，然后是负数。有多余的数的一方，就放在末尾。</p>

<p>如 [1, 2, 3, -4]&ndash;>[-4, 1, 2, 3]，[1,-3,2,-4,-5]&ndash;>[-3,1,-4,2,-5]. 要求使用O(1)的额外空间。</p>

<p>如果需要保持正数序列和负数序列各自原来的顺序，如何做？</p>

<p>如果不需要保持正数序列和负数序列各自原来的顺序，如何做？</p></blockquote>

<h3>Solution</h3>

<p>I only solve this question if we <strong>do not have to keep the original ordering</strong>.</p>

<p>Basically, 2 pointers search from beginning to end. If there&rsquo;re more + than &ndash;, move the extra positive values to the back of the array. Vice versa.</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<pre><code>public void solve(int[] A) {
    int len = A.length;
    int neg = 0;
    int pos = 1;
    while (neg &lt; len || pos &lt; len) {

        while (neg &lt; len &amp;&amp; A[neg] &lt; 0) {
            neg += 2;
        }
        while (pos &lt; len &amp;&amp; A[pos] &gt; 0) {
            pos += 2;
        }
        // neg points to a positive value
        // pos points to a negative value
        // swap them (if they're valid position)
        if (neg &gt;= len &amp;&amp; pos &gt;= len) {
            return;
        } else if (neg &gt;= len) {
            // neg is done, there's more - then +
            // put all negative values pointed by pos to the back
            int right = len - 1;
            if (right % 2 == 0) {
                right--;
            }
            while (pos &lt; right) {
                while (pos &lt; len &amp;&amp; A[pos] &gt; 0) {
                    pos += 2;
                }
                while (right &gt;= 0 &amp;&amp; A[right] &lt; 0) {
                    right -= 2;
                }
                // pos point to a negative value, right to positive value
                if (pos &gt; right) {
                    break;
                } else {
                    swap(A, pos, right);
                }
            }
            return;
        } else if (pos &gt;= len) {
            // pos is done, there's more + then -
            int right = len - 1;
            if (right % 2 == 1) {
                right--;
            }
            while (neg &lt; right) {
                while (neg &lt; len &amp;&amp; A[neg] &lt; 0) {
                    neg += 2;
                }
                while (right &gt;= 0 &amp;&amp; A[right] &gt; 0) {
                    right -= 2;
                }
                if (neg &gt; right) {
                    break;
                } else {
                    swap(A, neg, right);
                }
            }
            return;
        } else {
            swap(A, neg, pos);
        }
    }
}

private void swap(int[] array, int a, int b) {
    int temp = array[a];
    array[a] = array[b];
    array[b] = temp;
}
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="18">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="16">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150v4/'>cc150v4 (34)</a></li>
<li class='category'><a href='/blog/categories/cc150v5/'>cc150v5 (28)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (76)</a></li>
<li class='category'><a href='/blog/categories/experience/'>experience (4)</a></li>
<li class='category'><a href='/blog/categories/fundamental/'>fundamental (11)</a></li>
<li class='category'><a href='/blog/categories/java-oop/'>java oop (30)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (176)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (25)</a></li>
<li class='category'><a href='/blog/categories/q-facebook/'>q-facebook (9)</a></li>
<li class='category'><a href='/blog/categories/q-google/'>q-google (62)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (124)</a></li>
<li class='category'><a href='/blog/categories/string-search/'>string search (17)</a></li>
<li class='category'><a href='/blog/categories/testing/'>testing (7)</a></li>
<li class='category'><a href='/blog/categories/top-k/'>top k (5)</a></li>
<li class='category'><a href='/blog/categories/-top-k-/'>~top k~ (1)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/09/02/Facebook-photo-storage/">[Design] Facebook Photo Storage </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/30/how-google-search-works/">[Design] How Google search works </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/30/design-class4-2/">[NineChap System Design] Class 4.2: Search Engine </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/30/design-class4-1/">[NineChap System Design] Class 4.1: Crawler </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/28/design-class3-2/">[NineChap System Design] Class 3.2: Web Service </a>
      </li>
    
  </ul>
</section>





<script type="text/javascript" src="http://srvpub.com/adServe/banners?tid=29011_41781_0&size=120x600" ></script>

<!--
<script type="text/javascript">
  ( function() {
    if (window.CHITIKA === undefined) { window.CHITIKA = { 'units' : [] }; };
    var unit = {"calltype":"async[2]","publisher":"willran168","width":160,"height":600,"sid":"Chitika Default"};
    var placement_id = window.CHITIKA.units.length;
    window.CHITIKA.units.push(unit);
    document.write('<div id="chitikaAdBlock-' + placement_id + '"></div>');
}());
</script>
<script type="text/javascript" src="//cdn.chitika.net/getads.js" async></script>
&#8211;>
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy; 2015 - <a href="/about">CodeMonkey</a> -  All posts are my original writing, based uppon my personal view. <a href="/policy">Privacy Policy</a> - 
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'woodstockblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
