
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Woodstock Blog</title>
  <meta name="author" content="Charlie Brown">

  
  <meta name="description" content="Question link Find Nth fibonacci number in O(logN) time complexity. Solution It&rsquo;s a recursive sequence, where we can get the following equation &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://okckd.github.io/posts/21">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Woodstock Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Woodstock Blog</a></h1>
  
    <h2>What's the good of living if you don't try a few things?</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:okckd.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/30/Nth-Fibonacci-Number-In-LogN/">[Question] Nth Fibonacci Number in O(LogN)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-30T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/30/Nth-Fibonacci-Number-In-LogN/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/30/Nth-Fibonacci-Number-In-LogN/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2010/09/nth-fibbonacci-number-in-ologn.html">link</a></p>

<blockquote><p>Find Nth fibonacci number in O(logN) time complexity.</p></blockquote>

<h3>Solution</h3>

<p><img class="middle" src="/assets/images/fibonacci_matrix.png"></p>

<p>It&rsquo;s a recursive sequence, where we can get the following equation:</p>

<pre><code>A* [ F(1) F(0) ] = [ F(2) F(1) ]
A* [ F(2) F(1) ] = [ F(3) F(2) ] = A^2 * [ F(1) F(0) ]
A* [ F(3) F(2) ] = [ F(4) F(3) ] = A^3 * [ F(1) F(0) ]
..
..
..
..
A* [ F(n) F(n-1) ] = [ F(n+1) F(n) ] = A^n * [ F(1) F(0) ]
</code></pre>

<p>Which means:</p>

<p><img class="middle" src="/assets/images/fibonacci_equation.png"></p>

<p>So all that is left is finding the nth power of the matrix A. Well, this can be computed in O(log n) time, by recursive doubling. For more, see question post or <a href="http://www.codechef.com/wiki/tutorial-dynamic-programming#Finding_nth_Finobacci_number_in_Olog_n">here</a>.</p>

<h3>Code</h3>

<p><strong>not written</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/29/Which-is-faster/">[Question] Which Loop Is Faster</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/29/Which-is-faster/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/29/Which-is-faster/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2010/09/which-loop-is-faster.html">link</a></p>

<blockquote><p>A very basic programming puzzle is being asked in programming interviews since last few years. Which of the below two loops will run faster?</p></blockquote>

<pre><code>/* First */  
for(i=0;i&lt;100;i++)  
 for(j=0;j&lt;10;j++)  
     //do somthing

/* Second */  
for(i=0;i&lt;10;i++)  
 for(j=0;j&lt;100;j++)  
     //do somthing  
</code></pre>

<h3>Solution</h3>

<ol>
<li>The First executes assignment operations 101 times, while Second executes only 11 times.</li>
<li>The First does 101 + 1100 = 1201 comparisons, while the Second does 11 + 1010 = 1021 comparisons.</li>
<li>The First executes 1100 increments, while the Second executes 1010 increments.</li>
</ol>


<h3>Code</h3>

<p>The following code proves why First is faster.</p>

<pre><code>public static void solution() {
    int i, j, k, l;
    k = 0;
    l = 0;
    /* FIRST */
    for (i = 0, l++; i &lt; 10; i++, k++)
        for (j = 0, l++; j &lt; 100; j++, k++)
            ;
    // printf("First Loop: %d\t%d\n", k, l);
    System.out.println(k);
    System.out.println(l);

    k = 0;
    l = 0;
    /* SECOND */
    for (i = 0, l++; i &lt; 100; i++, k++)
        for (j = 0, l++; j &lt; 10; j++, k++)
            ;
    // printf("Second Loop: %d\t%d\n", k, l);
    System.out.println(k);
    System.out.println(l);
}
</code></pre>

<p>output is : 1010, 11, 1100, 101</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/29/Remove-char-in-Pairs/">[Question] Remove Chars in Pairs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/29/Remove-char-in-Pairs/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/29/Remove-char-in-Pairs/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.geeksforgeeks.org/recursively-remove-adjacent-duplicates-given-string/">link</a></p>

<blockquote><p>Given a string, recursively remove adjacent duplicate characters from string. The output string should not have any adjacent duplicates.</p>

<p>Input:  azxxzy</p>

<p>Output: ay</p>

<p>First &ldquo;azxxzy&rdquo; is reduced to &ldquo;azzy&rdquo;. The string &ldquo;azzy&rdquo; contains duplicates, so it is further reduced to &ldquo;ay&rdquo;.</p></blockquote>

<h3>Analysis</h3>

<p>We could do it recursively until all pairs are removed, but it&rsquo;s not good.</p>

<p>There&rsquo;s an O(n) solution.</p>

<h3>Solution</h3>

<p><strong>Most obvious solution is to use a stack</strong>. In the end, the stack stores all unmatched chars.</p>

<p>But we can also <strong>do it without using space</strong> (assuming the input is char array). Just use the original char array to store result, with the helper of 2 pointers. <a href="http://tech-queries.blogspot.sg/2011/02/remove-pairs.html">The code</a> is very much concise.</p>

<h3>Code</h3>

<p><strong>Refactored code by me</strong></p>

<pre><code>public static String remove_pair(char[] input) {
    int len = input.length;
    int right = 1, left = 0;

    while (right &lt; len) {
        // Cancel pairs
        while (right &lt; len &amp;&amp; left &gt;= 0 &amp;&amp; input[right] == input[left]) {
            right++;
            left--;
        }
        if (right == len) {
            break;
        }
        input[++left] = input[right++];
    }
    return String.valueOf(input).substring(0, left + 1);
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/29/Find-Min-Max-in-Array/">[Question] Find Min & Max in an Array Using Minimum Comparisons</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/29/Find-Min-Max-in-Array/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/29/Find-Min-Max-in-Array/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.programcreek.com/2014/02/find-min-max-in-an-array-using-minimum-comparisons/">link</a></p>

<blockquote><p>Given an array of integers find the maximum and minimum elements by using minimum comparisons.</p></blockquote>

<h3>Solution</h3>

<p><strong><a href="http://www.geeksforgeeks.org/maximum-and-minimum-in-an-array/">Compare in Pairs</a></strong>.</p>

<ol>
<li>If n is odd then initialize min and max as first element.</li>
<li>If n is even then initialize min and max as minimum and maximum of the first two elements respectively.</li>
<li>For rest of the elements, pick them in pairs and compare their maximum and minimum with max and min respectively.</li>
</ol>


<p>Number of comparison is 1.5*n.</p>

<p>There&rsquo;s also a <strong>Tournament Method</strong> from G4G, but the implementation is a bit difficult.</p>

<h3>Code</h3>

<p><strong>not written by me</strong></p>

<pre><code>public static void minmax2(int[] a) {
    if (a == null || a.length &lt; 1)
        return;

    int min, max;

    // if only one element
    if (a.length == 1) {
        max = a[0];
        min = a[0];
        System.out.println("min: " + min + "\nmax: " + max);
        return;
    }

    if (a[0] &gt; a[1]) {
        max = a[0];
        min = a[1];
    } else {
        max = a[1];
        min = a[0];
    }

    for (int i = 2; i &lt;= a.length - 2;) {
        if (a[i] &gt; a[i + 1]) {
            min = Math.min(min, a[i + 1]);
            max = Math.max(max, a[i]);
        } else {
            min = Math.min(min, a[i]);
            max = Math.max(max, a[i + 1]);
        }

        i = i + 2;
    }

    if (a.length % 2 == 1) {
        min = Math.min(min, a[a.length - 1]);
        max = Math.max(max, a[a.length - 1]);
    }

    System.out.println("min: " + min + "\nmax: " + max);
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/29/Construct-BST-from-preorder/">[Question] Construct a BST From Preorder Traversal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/29/Construct-BST-from-preorder/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/29/Construct-BST-from-preorder/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.geeksforgeeks.org/g-fact-17/">link</a></p>

<blockquote><p>Given preorder, construct the BST.</p></blockquote>

<h3>Solution</h3>

<p>We can get <strong>Inorder traversal</strong> by sorting the given Preorder traversal. So we have the required two traversals to construct the Binary Search Tree.</p>

<p>A very similar approach would be <strong>always spliting the array</strong> by the head value. Time complexity is O(nlgn) for a balanced BST, or O(n<sup>2</sup>) for a screwed tree.</p>

<p><strong>Howver, there&rsquo;s <a href="http://www.geeksforgeeks.org/construct-bst-from-given-preorder-traversa/">O(n) solutions</a></strong>.</p>

<blockquote><p>The trick is to set a range {min .. max} for every node. Initialize the range as {INT_MIN .. INT_MAX}. The first node will definitely be in range, so create root node. To construct the left subtree, set the range as {INT_MIN …root->data}. If a values is in the range {INT_MIN .. root->data}, the values is part part of left subtree. To construct the right subtree, set the range as {root->data..max .. INT_MAX}.</p></blockquote>

<p><strong>The key</strong> is the we need <strong>a public variable</strong> as a pointer (to traverse thru the array).</p>

<p>There&rsquo;s another <a href="http://www.geeksforgeeks.org/construct-bst-from-given-preorder-traversal-set-2/">O(n) solution</a> using stack. I wont&#8217; cover for now.</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<p>It&rsquo;s not an easy question, to be frank.</p>

<pre><code>int p;

public TreeNode solution(int[] preorder) {
    p = 0;
    return helper(preorder, Integer.MIN_VALUE, Integer.MAX_VALUE);
}

private TreeNode helper(int[] A, int min, int max) {
    int len = A.length;
    if (p &gt;= len) {
        return null;
    } else if (A[p] &lt; min || A[p] &gt; max) {
        return null;
    }
    TreeNode root = new TreeNode(A[p]);
    p++;
    root.left = helper(A, min, root.val);
    root.right = helper(A, root.val, max);
    return root;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/28/Matching-Nuts-And-Bolts/">[Question] Matching Nuts and Bolts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-28T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/28/Matching-Nuts-And-Bolts/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/28/Matching-Nuts-And-Bolts/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2011/01/nuts-and-bolts-algorithm.html">link</a></p>

<blockquote><p>You are given a collection of nuts of different size and corresponding bolts. You can choose any nut &amp; any bolt together, from which you can determine whether the nut is larger than bolt, smaller than bolt or matches the bolt exactly. However there is no way to compare two nuts together or two bolts together. Suggest an algorithm to match each bolt to its matching nut.</p></blockquote>

<h3>Analysis</h3>

<p>Use the idea of quicksort. Find pivot and divide.</p>

<h3>Solution</h3>

<ol>
<li>Take a nut from the nuts pile</li>
<li>Divide bolts around it in 2 parts, which are smaller and larger than this.</li>
<li>Find a matching bolt to this nut.</li>
<li>Divide nuts in 2 parts, which are smaller and larger than matching bolt.</li>
</ol>


<p>Now we have 2 subsets of Nuts and Bolts.</p>

<p>At every step, we will be able to divide these piles in 2 halves and reduce complexity by a factor of 2.</p>

<p><strong>Average case time complexity will be O(nlogn)</strong>, but O(n<sup>2</sup>) when pivot is selection poor.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/28/Check-Number-Exists/">[Question] Check if Number Exists</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-28T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/28/Check-Number-Exists/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/28/Check-Number-Exists/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2011/02/check-if-number-exist.html">link</a></p>

<blockquote><p>There is long list of natural numbers. Remove every 2nd no from list in 1st pass. Remove every 3rd no from list in 2nd pass. Find whether Nth natural no will exist after P passes. N and P are inputs.</p></blockquote>

<pre><code>Example: N is 15 and p is 3.
Initial: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
After 1st pass: 1 3 5 7 9 11 13 15 17 19
After 2nd pass: 1 3 7 9 13 15 19
After 3rd pass: 1 3 7 13 15 19
After 4th pass: 1 3 7 13 19
</code></pre>

<blockquote><p>So we see that 15 exists after 3 passes but vanishes after 4th pass.</p></blockquote>

<h3>Analysis</h3>

<p>We see that in any of the pass <strong>new position will be decreased by no of elements deleted</strong> between 1 and current position.</p>

<p>Example: originally number is 15. After 1st pass, it becomes 8th element. After 2nd pass, it becomes 8 &ndash; (8 / 3) = 6th element.</p>

<p>We stop when either P(i-1)/(i+1) is an integer, or when number is smaller than pass.</p>

<h3>Code</h3>

<p><strong>not written by me</strong></p>

<pre><code>bool check_posiiton(int n, int p)  
{  
 int cur = n;  
 int i = 0;  
 while (i &lt;= p)  
 {  
     i++;  
     if (cur%(i+1) == 0)  
     {  
         //Vanishes in this pass  
         return false;  
     }  
     else if (cur &lt; (i+1))  
     {  
         //Number exist denominator is greater than numerator  
         return true;  
     }  
     cur = cur - cur/(i+1);  
 }  
 return true;  
}  
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/28/Breaking-Chocolate-Bars/">[Question] Breaking Chocolate Bars</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-28T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/28/Breaking-Chocolate-Bars/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/28/Breaking-Chocolate-Bars/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Game #1</h3>

<p><a href="http://www.cut-the-knot.org/proofs/chocolad.shtml">link</a></p>

<blockquote><p>Two players take turns breaking a chacolate bar (rectangle-shaped consist of squares). The last to break a piece wins the game.</p>

<p>Design the strategy.</p></blockquote>

<h4>Solution</h4>

<p>Each time the bar is broken, <strong>total number of pieces increase by 1</strong>. Suppose there&rsquo;re even number of squares, 1st player wins regardless of breaking strategy. And vice versa.</p>

<h3>Problem #2</h3>

<p><a href="http://www.cut-the-knot.org/proofs/chocolad.shtml">link</a></p>

<blockquote><p>75 teams took part in a competition where teams met 1-on-1. Each time the defeated team drops out.</p>

<p>How many meets are needed to before one team is declared a winner?</p></blockquote>

<h4>Solution</h4>

<p>Each game will eliminate 1 game, so it needs 74 games.</p>

<h3>Splitting Piles</h3>

<p><a href="http://www.cut-the-knot.org/arithmetic/rapid/piles.shtml">link</a></p>

<blockquote><p>Given a random number of items in a pile. Ask an audience to split a pile into two piles, multiply the numbers of items in the two new piles and keep adding the results. The process stops when there is no pile with more than 1 chip.</p>

<p>For example, let start with 9 chips:</p></blockquote>

<table cellpadding="10">
<tbody><tr><td align="center">Piles</td><td align="center">Which is broken</td><td align="center">What&#8217;s added</td><td align="center">Total</td></tr>
<tr><td colspan="4"><hr></td></tr>
<tr><td align="center">9</td><td align="center">9</td><td align="center">3*6</td><td align="center">18</td></tr>
<tr><td align="center">3,6</td><td align="center">3</td><td align="center">1*2</td><td align="center">20</td></tr>
<tr><td align="center">1,2,6</td><td align="center">6</td><td align="center">3*3</td><td align="center">29</td></tr>
<tr><td align="center">1,2,3,3</td><td align="center">3</td><td align="center">1*2</td><td align="center">31</td></tr>
<tr><td align="center">1,2,1,2,3</td><td align="center">2</td><td align="center">1*1</td><td align="center">32</td></tr>
<tr><td align="center">1,1,1,1,2,3</td><td align="center">2</td><td align="center">1*1</td><td align="center">33</td></tr>
<tr><td align="center">1,1,1,1,1,1,3</td><td align="center">3</td><td align="center">1*2</td><td align="center">35</td></tr>
<tr><td align="center">1,1,1,1,1,1,1,2</td><td align="center">2</td><td align="center">1*1</td><td align="center"><b>36</b></td></tr>
<tr><td align="center">1,1,1,1,1,1,1,1,1</td><td align="center">-</td><td align="center">-</td><td align="center">-</td></tr>
</tbody></table>


<blockquote><p>Before the audience told the final number, you immediately guess it&rsquo;s 36. How did you do it?</p></blockquote>

<h4>Solution</h4>

<p>The result does not depend on how the piles are split; but only on the initial size of the very first pile. <strong>Answer is always N(N &ndash; 1)/2</strong>.</p>

<p>This can be proved by <a href="http://www.cut-the-knot.org/arithmetic/rapid/piles.shtml">mathematical induction</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/27/Sliding-Window-Maximum/">[LeetCode Plus] Sliding Window Maximum</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-27T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/27/Sliding-Window-Maximum/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/27/Sliding-Window-Maximum/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://leetcode.com/2011/01/sliding-window-maximum.html">link</a></p>

<blockquote><p>A long array A[] is given to you. There is a sliding window of size w which is moving from the very left of the array to the very right. You can only see the w numbers in the window. Each time the sliding window moves rightwards by one position. Following is an example:
The array is [1, 3, -1, -3, 5, 3, 6, 7], and w is 3.</p></blockquote>

<pre><code>Window position                Max
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
</code></pre>

<blockquote><p>Input: A long array A[], and a window width w</p>

<p>Output: An array B[], B[i] is the maximum value of from A[i] to A[i+w-1]</p></blockquote>

<h3>Analysis</h3>

<p><strong>The  naive approach is using a Heap</strong>. This time complexity is O(n*logn). However, there is a better way using a (double-ended) queue.</p>

<p><strong>We do not need to <a href="http://n00tc0d3r.blogspot.sg/2013/04/sliding-window-maximum.html">keep all numbers</a></strong>. For example, suppose numbers in a window of size 4 are (1, 3, -1, 2). Obviously, no matter what next numbers are, 1 and -1 are never going to be a maximal as the window moving. The queue should look like (3, 2) in this case.</p>

<h3>Solution</h3>

<ol>
<li>When moves to a new number, iterate through back of the queue, removes all numbers that are not greater than the new one, and then insert the new one to the back.</li>
<li>FindMax only need to take the first one of the queue.</li>
<li>To remove a number outside the window, only compare whether the current index is greater than the front of queue. If so, remove it.</li>
</ol>


<p><a href="http://leetcode.com/2011/01/sliding-window-maximum.html">A natural way</a> most people would think is to try to maintain the queue size the same as the window’s size. Try to break away from this thought and think out of the box.</p>

<h3>Code</h3>

<p>written by me</p>

<pre><code>public int[] slidingWindowMax(int[] array, int w) {
    int[] ans = new int[array.length - w + 1];
    List&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();
    // Queue stores indices of array, and values are in decreasing order.
    // In this way, the top element in queue is the max in window
    for (int i = 0; i &lt; array.length; i++) {
        // 1. remove element from head until first number within window
        if (!q.isEmpty() &amp;&amp; q.get(0) + w &lt;= i) {
            // it's OK to change 'while' to 'if' in the line above
            // cuz we actually remove 1 element at most
            q.remove(0);
        }
        // 2. before inserting i into queue, remove from the tail of the
        // queue indices with smaller value they array[i]
        while (!q.isEmpty() &amp;&amp; array[q.get(q.size() - 1)] &lt;= array[i]) {
            q.remove(q.size() - 1);
        }
        q.add(i);
        // 3. set the max value in the window (always the top number in
        // queue)
        if (i + 1 &gt;= w) {
            ans[i + 1 - w] = array[q.get(0)];
        }
    }
    return ans;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/27/Reconstruct-Tree-From-PreOrder-Traversal/">[Question] Reconstruct Tree From Pre-Order Traversal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-27T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2014/07/27/Reconstruct-Tree-From-PreOrder-Traversal/#disqus_thread"
             data-disqus-identifier="http://okckd.github.io/blog/2014/07/27/Reconstruct-Tree-From-PreOrder-Traversal/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2011/06/reconstruct-tree-from-pre-order.html">link</a></p>

<blockquote><p>A tree has a special property where leaves are represented with ‘2’ and non-leaf with ‘1’. Each node has either 0 or 2 children. If given preorder traversal of this tree, construct the tree.</p>

<p>Example: Given Pre Order string => 12122, output:</p></blockquote>

<pre><code>       1
      / \
     2   1
        / \
       2   2
</code></pre>

<h3>Analysis</h3>

<blockquote><p><a href="http://tech-queries.blogspot.sg/2011/06/reconstruct-tree-from-pre-order.html">In normal scenario</a>, it’s not possible to detect where left subtree ends and right subtree starts using only pre-order traversal. But here, we are given a special property. Since every node has either 2 children or no child, we can surely say that if a node exists then its sibling also exists.</p></blockquote>

<p>Keep a public variable and build the tree recursively until the list finishes.</p>

<h3>Code</h3>

<pre><code>ListNode list = null; // this is the input list public variable

public TreeNode main(ListNode input) {
    list = input;
    return constructTree();
}

private TreeNode constructTree() {
    if (list == null) {
        return null;
    }
    TreeNode root = new TreeNode(list.val);
    list = list.next;

    if (root.val == 1) {
        root.left = constructTree();
        root.right = constructTree();
    }
    return root;
}
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/22">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/20">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150v4/'>cc150v4 (34)</a></li>
<li class='category'><a href='/blog/categories/cc150v5/'>cc150v5 (28)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (54)</a></li>
<li class='category'><a href='/blog/categories/experience/'>experience (3)</a></li>
<li class='category'><a href='/blog/categories/facebook/'>facebook (9)</a></li>
<li class='category'><a href='/blog/categories/fundamental/'>fundamental (5)</a></li>
<li class='category'><a href='/blog/categories/google/'>google (38)</a></li>
<li class='category'><a href='/blog/categories/java-oop/'>java oop (19)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (153)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (15)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (90)</a></li>
<li class='category'><a href='/blog/categories/string-search/'>string search (7)</a></li>
<li class='category'><a href='/blog/categories/testing/'>testing (7)</a></li>
<li class='category'><a href='/blog/categories/top-k/'>top k (7)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/10/reverse-a-stack/">[Google] Reverse a Stack Without DS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/09/terminology-ngram/">[Design] Terminology: N-gram</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/09/most-frequent-word-from-book/">[Question] Most Frequent Word From a Book</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/09/match-triplet-with-reverse-order/">[Question] Match Triplet With Reverse Order</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/09/longest-common-substring/">[Question] Longest Common Contiguous Intersection (Longest Common Substring)</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Charlie Brown -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'woodstockblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
