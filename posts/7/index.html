
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Shuati.info</title>
  <meta name="author" content="shuati">

  
  <meta name="description" content="Question link Given two integer sequences, one of which is the push sequence of a stack, please check whether the other sequence is a corresponding &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://okckd.github.io/posts/7/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Shuati.info" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:okckd.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="blue_light">
            Shuati.info
        </span>
       
    </a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/26/Push-and-Pop-Sequences-Stacks/">[Question] Push and Pop Sequences of Stacks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-26T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/26/Push-and-Pop-Sequences-Stacks/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://codercareer.blogspot.sg/2011/11/no-21-push-and-pop-sequences-of-stacks.html">link</a></p>

<blockquote><p>Given two integer sequences, one of which is the push sequence of a stack, please check whether the other sequence is a corresponding pop sequence or not.</p>

<p>For example, if 1, 2, 3, 4, 5 is a push sequence, 4, 5, 3, 2, 1 is a corresponding pop sequence, but the sequence 4, 3, 5, 1, 2 is not.</p></blockquote>

<h3>Solution</h3>

<p>Refer to <a href="http://stackoverflow.com/a/17828345">this answer</a>:</p>

<blockquote><p>Construct the stack:</p>

<p>For each number X in the pop order:</p></blockquote>

<pre><code>If this number is not the same as the top of the stack (or the stack is empty), 
push numbers from the push order until you pushed X. 

If you pushed all numbers and didn't find X, there's no way to get the pop order.

Pop X
</code></pre>

<h3>Code</h3>

<pre><code>public boolean validSequence(int[] input, int[] sequenc) {
    // keep a pointer p in the input[] array
    int len = input.length;
    int p = 0;
    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();

    int i = 0;
    while (i &lt; len) {
        if (stack.isEmpty()) {
            // just push an element to stack
            stack.push(input[p++]);
        } else {
            // stack got elements, then check top one
            if (stack.peek() == sequenc[i]) {
                // seq found, proceed to next number in seq
                stack.pop();
                i++;
            } else {
                // did not find seq, keep pushing to stack until done
                if (p == len) {
                    return false;
                } else {
                    stack.push(input[p++]);
                }
            }
        }
    }
    return i == len; // or just return true;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/distributed-caching-memcached/">[Design] Distributed Caching - Memcached</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-24T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/24/distributed-caching-memcached/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>What is Memcached?</h3>

<p><a href="http://memcached.org/">Memcached</a> is an <strong>in-memory key-value store for small chunks of arbitrary data</strong> (strings, objects) from results of database calls, API calls, or page rendering.</p>

<ol>
<li>Free &amp; open source</li>
<li>high-performance, distributed memory object caching system</li>
<li>generic in nature</li>
<li>intended for use in speeding up dynamic web applications by alleviating database load</li>
</ol>


<p>Definition from <a href="http://en.wikipedia.org/wiki/Memcached">wiki</a>:</p>

<blockquote><p>Memcached is a <strong>general-purpose distributed memory caching system</strong>. It is often used to speed up dynamic database-driven websites by <strong>caching data and objects in RAM</strong> to reduce the number of times an <strong>external data source</strong> (such as a database or API) must be read.</p></blockquote>

<h3>Who uses Memcached?</h3>

<ol>
<li>Facebook</li>
<li>YouTube</li>
<li>Twitter</li>
<li>Amazon</li>
<li>Reddit</li>
<li>Yahoo</li>
<li>Zynga</li>
</ol>


<h3>Why Memcached?</h3>

<p>Run memcached on one or more hosts and then use the shared cache to store objects. Because each host’s RAM is storing information, the access speed <a href="http://www.blogs.zeenor.com/category/interview-questions/page/9">will be much faster than</a> having to load the information from disk. This can provide <strong>a significant performance boost in retrieving data</strong> versus loading the data natively from a database.</p>

<p>Also, because the cache is just a repository for information, you can use the cache to store <strong>any data, including complex structures</strong> that would normally require a significant amount of effort to create, but in <strong>a ready-to-use format</strong>, helping to reduce the load on your MySQL servers.</p>

<h3>FAQ</h3>

<p><strong>What is Memcached?</strong></p>

<p><a href="http://www.web-technology-experts-notes.in/2014/09/memcached-interview-questions-and-answers.html">It is component</a> which stored the data temporary for 1 Hour/ 6 Hour/1 Day etc. When we integrate the Memcached with our application, performance of application increased.</p>

<p>Memcached is open source, high-performance distributed memory object used for caching so that execution can be enhanced at nth level.</p>

<p><strong>Where Memcached can be used?</strong></p>

<p>•  Social Networking &ndash;> Profile Caching</p>

<p>•  Content Aggregation &ndash;> HTML/ Page Caching</p>

<p>•  Ad targeting &ndash;> Cookie/profile tracking</p>

<p>•  Relationship &ndash;> Session caching</p>

<p>•  E-commerce &ndash;> Session and HTML caching</p>

<p>•  Location-based services &ndash;> Data-base query scaling</p>

<p>•  Gaming and entertainment &ndash;> Session caching</p>

<p><strong>Why use Memcached?</strong></p>

<p>•  Speed up application processes</p>

<p>•  It determines what to store and what not to</p>

<p>•  Reduce the number of retrieval requests to the database</p>

<p>•  Cuts down the I/O ( Input/Output) access (hard disk)</p>

<p><strong>In what condition does retrieving cache fail?</strong></p>

<p>•  Memory allocated for the cache is exhausted</p>

<p>•  Item from cache is deleted</p>

<p>•  Individual item in the cache is expired</p>

<p><strong>What is the drawback of Memcached?</strong></p>

<p>•  It is not a persistent data store</p>

<p>•  Not a database</p>

<p>•  It is not an application specific</p>

<p>•  It cannot cache large object</p>

<p><strong>Give more details about memcached failures</strong></p>

<p><a href="http://programmers.stackexchange.com/a/187101">Memcached servers</a> are indeed independent of each other. Memcached server is just an efficient key-value store implemented as in-memory hash table.</p>

<p><strong>What makes memcached distributed is the client</strong>, which in most implementations can connect to a pool of servers. Typical implementations use consistent hashing, which means that when you add or remove server to/from a pool of N servers, you only have to remap 1/N keys.</p>

<p>Typically keys are <strong>not duplicated</strong> on various hosts, as memcached is <strong>not meant to be persistent store</strong> and gives no guarantees that your value will persist (for example when running out of assigned memory, memcached server drops least recently used (LRU) elements). Thus it&rsquo;s assumed that your application should handle missing keys.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/design-google-suggest-autocomplete/">[Design] Design Google Suggest (Autocomplete)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-24T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/24/design-google-suggest-autocomplete/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Overview</h3>

<p><strong>Google Suggest</strong> was <a href="http://googleblog.blogspot.sg/2004/12/ive-got-suggestion.html">launched in 2004</a> as a 20% time project from Google engineer Kevin Gibbs. He developed the idea on a <a href="http://www.theatlantic.com/technology/archive/2013/08/how-googles-autocomplete-was-created-invented-born/278991/">Google shuttle bus</a>.</p>

<h3>Design</h3>

<ol>
<li>Use trie.</li>
<li>Use cache (distributed cache)</li>
</ol>


<h4>Trie</h4>

<p>Just make use of all keywords (including space) and build a trie out of it. Then you are good to go just search in Trie.</p>

<p>A comparison of speed between DB, Set and Trie can be found <a href="http://sujitpal.blogspot.sg/2007/02/three-autocomplete-implementations.html">here</a>. A lot of implementation code can be found <a href="http://stackoverflow.com/questions/7058724/how-to-create-an-efficient-auto-complete">here</a>.</p>

<h4>Memcached</h4>

<p>Distributed caching + LRU replacement algorithm. Refer to <strong>[Design] Distributed Caching &ndash; memcached</strong> for more.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/top-n-from-sum-2-array/">[Google] Top N Values From Sum of 2 Arrays</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/20/top-n-from-sum-2-array/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.careercup.com/question?id=3213705">link</a></p>

<blockquote><p>给定两个数组A，B，长度均为n，求A[0]+B[0],…,A[0]+B[n-1],…,A[n-1]+B[0],…,A[n-1]+B[n]总共n<sup>2</sup>个数的最大的n个值。</p></blockquote>

<h3>Solution</h3>

<p>Use a Heap and then iteratively pop 1 and push 2 elements. Until n values has been filled.</p>

<h3>Code</h3>

<pre><code>public int[] topN(int[] arr1, int[] arr2, int n) {
    int[] ans = new int[n];
    int index = n - 1;

    PriorityQueue&lt;Pair&gt; heap = new PriorityQueue&lt;Pair&gt;(n,
            new SpecialComparator(arr1, arr2));
    Arrays.sort(arr1);
    Arrays.sort(arr2);

    Pair maxPair = new Pair(n - 1, n - 1);
    heap.add(maxPair);

    for (int i = 0; i &lt; n; i++) {
        Pair next = heap.poll();
        ans[index--] = arr1[next.x] + arr2[next.y];
        if (next.y - 1 &gt;= 0) {
            heap.add(new Pair(next.x, next.y - 1));
        }
        if (next.x - 1 &gt;= 0) {
            heap.add(new Pair(next.x - 1, next.y));
        }
    }
    return ans;
}

class SpecialComparator implements Comparator&lt;Pair&gt; {

    int[] arr1, arr2;

    public SpecialComparator(int[] a1, int[] a2) {
        arr1 = a1;
        arr2 = a2;
    }

    @Override
    public int compare(Pair p1, Pair p2) {
        // note that larger value shall go up top of the heap, so -1 * ...
        return -1 * (arr1[p1.x] + arr2[p1.y] - arr1[p2.x] - arr2[p2.y]);
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/java-vector-arraylist/">[Java OOP] Java Vector and ArrayList</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/20/java-vector-arraylist/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Difference</h3>

<ol>
<li><p>Vectors are synchronized, ArrayLists are not.</p></li>
<li><p>Data Growth Methods</p>

<p> <a href="http://stackoverflow.com/a/2986307">A Vector defaults to</a> doubling the size of its array, while the ArrayList increases its array size by 50 percent.</p></li>
</ol>


<h3>Similarities</h3>

<ol>
<li><p>Both Vector and ArrayList use <strong>growable array</strong> data structure.</p></li>
<li><p>They both are <strong>ordered collection classes</strong> as they maintain the elements insertion order.</p></li>
<li><p>Vector &amp; ArrayList both allows duplicate and null values.</p></li>
<li><p>They both grows and shrinks automatically when overflow and deletion happens.</p></li>
</ol>


<p><a href="http://beginnersbook.com/2013/12/difference-between-arraylist-and-vector-in-java/">source</a></p>

<h3>History</h3>

<p>The vector was not the part of collection framework &ndash; it has been included in collections later. It can be considered as <strong>Legacy code</strong>.</p>

<p><strong>There is nothing about Vector which List collection cannot do</strong>. Therefore Vector should be avoided. If there is a need of thread-safe operation, make ArrayList synchronized.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/java-abstract-class-interface/">[Java OOP] Interface and Abstract Classes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/20/java-abstract-class-interface/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Overview</h3>

<p><a href="http://www.programmerinterview.com/index.php/java-questions/interface-vs-abstract-class/">source</a></p>

<p><strong>A class</strong> must be declared abstract when it has one or more <strong>abstract methods</strong>.</p>

<p><strong>An interface</strong> differs from an abstract class because an interface is not a class. An interface is essentially a type that <strong>can be satisfied by any class</strong> that implements the interface.</p>

<h3>Abstract classes: strong relationship</h3>

<p><strong>Abstract classes</strong> are meant to be inherited from, and often <strong>indicates a strong relationship</strong>.</p>

<p>For instance, if we have an abstract base class called &ldquo;Canine&rdquo;, any deriving class should be an animal that belongs to the Canine family (like a Dog or a Wolf).</p>

<p><strong>With an interface on the other hand</strong>, the relationship is <strong>not necessarily strong</strong>.</p>

<p>For example, if we have a class called &ldquo;House&rdquo;, that class could also implement an interface called &ldquo;AirConditioning&rdquo;. Having air conditioning not an essential part of a House.</p>

<p><strong>A TownHouse</strong> is a type of House, that relationship is very strong, and would be more appropriately defined <strong>through inheritance</strong> instead of interfaces.</p>

<h3>What&rsquo;s more</h3>

<ol>
<li><p>Multiple inheritance</p>

<p> Java class can inherit from only one abstract class, but can implement multiple interfaces.</p></li>
<li><p>Abstract method</p>

<p> Abstract class can have non-abstract methods with actual implementation details.</p></li>
</ol>


<h3>When to use which</h3>

<p><strong>Use abstract class when</strong>:</p>

<ol>
<li><p>You want to <strong><a href="http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html">share code</a></strong> among several closely related classes.</p></li>
<li><p>you want to be able to declare <strong>non-public members</strong>. In an interface, all methods must be public.</p></li>
<li><p>you think you will need to <strong>add methods</strong> in the future.</p>

<p> Because if you add new method headings to an interface, then all of the classes that already implement that interface will have to be changed to implement the new methods. That can be quite a hassle.</p></li>
</ol>


<p><strong>Use interface when</strong>:</p>

<ol>
<li><p>You expect that <strong>unrelated classes</strong> would implement your interface. For example, the interfaces <strong>Comparable and Cloneable</strong> are implemented by many unrelated classes.</p></li>
<li><p>you think that the API will not change for a while.</p></li>
<li><p>you want to have something similar to multiple inheritance.</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/difference-http-https/">[Design] Difference Between HTTP and HTTPS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/20/difference-http-https/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://stackoverflow.com/a/8375247">ref</a></p>

<h4>1: What are benefits of using HTTPS over HTTP?</h4>

<p>HTTPS means that you <strong>tunnel the HTTP protocol over TLS/SSL</strong> which encrypts the HTTP payload.</p>

<p>So the benefit is that HTTP requests and responses are transmitted securely over the wire, e.g. your Internet Service Provider does not know what you&rsquo;re doing.</p>

<p><a href="http://stackoverflow.com/a/548042">When Google switched Gmail to use HTTPS</a>, no additional resources were required; no network hardware, no new hosts. It only increased CPU load by about 1%.</p>

<h4>2: How to use HTTPS?</h4>

<p>Enable it at your endpoint, in general <strong>a web server in front of your application server</strong>. Most web servers (e.g. IIS, Apache) support this by configuration. Depending on your confidentiality requirements this may not be enough.</p>

<h4>3: Can we use HTTPS for only login purpose and then onwords HTTP?</h4>

<p>Technically this is possible, but it introduces some security risks. Example: After a secured login you transmit session IDs identifying the user. If you transmit those session IDs unsecurely (no SSL), session hijacking becomes a risk (&lsquo;man-in-the-middle&rsquo;)</p>

<h4>4: What settings needs to be done for making website HTTPS?</h4>

<p>See #2. In public internet scenarios you should request (buy) a certificate from a certain Certificate Authority (CA), so that end user clients can verify whether they should trust your certificate.</p>

<h4>5: Is there any threat present in HTTPS?</h4>

<p>In the protocol itself there is a slight risk of <strong>man-in-the-middle attacks</strong>. E.g. a proxy between the client and server could pretend to be the server itself (this requires a successful attack to network infrastructure, e.g. DNS). There are several other &lsquo;more obscure&rsquo; risks that do not relate to the protocol itself, e.g.:</p>

<ol>
<li>usage of an outdated encryption key length (e.g. 256 bit)</li>
<li>loss of private keys or unappropriate key management procedures (e.g. send via unencrypted email)</li>
<li>certificate authority failure</li>
</ol>


<h4>6: Is processing time required for HTTPS is greater than HTTP?</h4>

<p>Yes, key negotiation (handshaking) <strong>requires a lot CPU capacity</strong>.</p>

<p><img class="middle" src="/assets/images/http-vs-https.png"></p>

<h3>Port Number</h3>

<p>HTTP uses <strong>port 80 or 8080</strong>, while HTTPS uses <strong>TCP port 443</strong>.</p>

<p><a href="http://www.coderanch.com/t/168608/java-Web-Component-SCWCD/certification/Diff">The reason</a> that some applications use 8080 (7080, 9080) instead of 80 is that on UNIX, <strong>port numbers below 1024</strong> are reserved for <strong>super-user</strong> processes.</p>

<p>That&rsquo;s why for OS compatibility reasons, some servers use other ports (greater than 1024). But they still have &ldquo;80&rdquo; inside the numner, eg. 7080, 8080, 9080.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/basin-size-in-matrix/">[Palantir] Largest Basin Size in Matrix</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/20/basin-size-in-matrix/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.careercup.com/question?id=15380670">link</a></p>

<p>A group of farmers has some elevation data, and we’re going to help them understand how rainfall flows over their farmland.</p>

<p>We’ll represent the land as a two-dimensional array of altitudes and use the following model, based on the idea that water flows downhill:</p>

<p>If a cell’s neighboring cells all have higher altitudes, we call this cell a sink; water collects in sinks. Two cells are neighbors if the rows and columns each differ by at most one. Hence an interior cell will have eight neighbors, a cell on the edge will have five neighbors, and a cell in a corner will have three neighbors.</p>

<p>Otherwise, water will flow to the neighboring cell with the lowest altitude. If a cell is not a sink, you may assume it has a unique lowest neighbor and that this neighbor will be lower than the cell.
Cells that drain into the same sink – directly or indirectly – are said to be part of the same basin.</p>

<p>Your challenge is to partition the map into basins. In particular, given a map of elevations, your code should partition the map into basins and output the sizes of the basins, in descending order.</p>

<p>Assume the elevation maps are square. Input will begin with a line with one integer, S, the height (and width) of the map. The next S lines will each contain a row of the map, each with S integers – the elevations of the S cells in the row.  Some farmers have small land plots such as the examples below, while some have larger plots.  However, in no case will the total size of the farmland exceed 1000x1000.</p>

<p>Note: The input uses unix line endings (\n). If you try to view the sample inputs on a windows machine with a program that does not convert line endings (like Notepad), you will see the input appear all on a single line.</p>

<p>Your code should output a space-separated list of the basin sizes, in descending order. (Trailing spaces are ignored.)</p>

<p>While correctness and performance are the most important parts of this problem, a human will be reading your solution, so please make an effort to submit clean, readable code. In particular, do not write code as if you were solving a problem for a competition.</p>

<p>A few examples are below.</p>

<p>Input:</p>

<pre><code>       3
       1 5 2
       2 4 7
       3 6 9
</code></pre>

<p>Output:</p>

<pre><code>            7 2
</code></pre>

<p>The basins, labeled with A’s and B’s, are:</p>

<pre><code>       A A B
       A A B
       A A A
</code></pre>

<p>Input:</p>

<pre><code>       1
       10
</code></pre>

<p>Output:</p>

<pre><code>       1
</code></pre>

<p>There is only one basin in this case.</p>

<p>Input:</p>

<pre><code>       5
       1 0 2 5 8
       2 3 4 7 9
       3 5 7 9 9
       1 2 5 5 3
       3 3 5 1 0
</code></pre>

<p>Output:</p>

<pre><code>       10 8 7
</code></pre>

<p>The basins, labeled with A’s, B’s, and C’s, are:</p>

<pre><code>       A A A A A
       A A A A A
       B B B C C
       B B C C C
       B B C C C
</code></pre>

<p>Input:</p>

<pre><code>       4
       0 3 2 3
       3 2 1 4
       3 4 3 3
       5 5 2 0
</code></pre>

<p>Output:</p>

<pre><code>       6 5 5
</code></pre>

<p>The basins, labeled with A’s, B’s, and C’s, are:</p>

<pre><code>       A A B B
       A A B B
       A B C C
       A C C C
</code></pre>

<h3>Solution</h3>

<p>I did not find a &lsquo;best&rsquo; solution online, but there&rsquo;s a good enough explanation available <a href="http://stackoverflow.com/questions/24336686/find-the-largest-basin-size-in-a-given-matrix">here</a>:</p>

<ol>
<li><p>First store index according to their heights.</p></li>
<li><p>Then iterate from smallest height to largest height.</p></li>
<li><p>If current index is not visited, make it Basin surface (where water can collect), and make all higher neighbours as Non-Basin surface.</p></li>
<li><p>Repeat step 3 till all indexes are visited.</p></li>
<li><p>DFS find each basin</p></li>
</ol>


<h3>Code</h3>

<p>I post my solution written in 2013.</p>

<pre><code>public class MeSolution2013 {

    public static void main(String args[]) {

        String inputFile;
        int testCaseNumber = 1;

        while (true) {
            inputFile = "input" + testCaseNumber + ".txt";
            BufferedReader in;
            try {
                URI uri = MeSolution2013.class.getResource(inputFile).toURI();
                in = new BufferedReader(new FileReader(new File(uri)));
            } catch (Exception e) {
                // there is not more test cases
                break;
            }

            Scanner sc = new Scanner(in);
            int length = sc.nextInt();
            int[][] elevation = new int[length][length];
            for (int i = 0; i &lt; length; i++) {
                for (int j = 0; j &lt; length; j++) {
                    elevation[i][j] = sc.nextInt();
                }
            }

            List&lt;Pair&gt; sinkList = new ArrayList&lt;Pair&gt;();

            // first find out all sink nodes
            for (int i = 0; i &lt; length; i++) {
                for (int j = 0; j &lt; length; j++) {
                    if (elevation[i][j] &lt; lowestNeighbor(i, j, elevation)) {
                        // (i,j) is a sink point
                        sinkList.add(new Pair(i, j));
                    }
                }
            }

            // then for each sink node, return the count
            int[] basinSize = new int[sinkList.size()];
            for (int i = 0; i &lt; sinkList.size(); i++) {
                basinSize[i] = count(sinkList.get(i).X, sinkList.get(i).Y,
                        elevation);
            }
            Arrays.sort(basinSize);

            for (int i = sinkList.size() - 1; i &gt;= 0; i--) {
                System.out.print(basinSize[i]);
                if (i != 0)
                    System.out.print(" ");
            }
            System.out.println();
            testCaseNumber++;
        }
    }

    static int count(int x, int y, int[][] ele) {

        int num = 1;

        // if the neighbour is higher than current, add count to current count
        // if all neighbours are lower than current, return 1

        // diagonal neighbors
        if (withinBound(x - 1, y, ele) &amp;&amp; rainFlowFrom(x, y, x - 1, y, ele)) { // upper
                                                                                // elment
            num += count(x - 1, y, ele);
        }
        if (withinBound(x + 1, y, ele) &amp;&amp; rainFlowFrom(x, y, x + 1, y, ele)) { // lower
                                                                                // element
            num += count(x + 1, y, ele);
        }
        if (withinBound(x, y - 1, ele) &amp;&amp; rainFlowFrom(x, y, x, y - 1, ele)) { // left
                                                                                // hand
                                                                                // side
            num += count(x, y - 1, ele);
        }
        if (withinBound(x, y + 1, ele) &amp;&amp; rainFlowFrom(x, y, x, y + 1, ele)) { // right
                                                                                // hand
                                                                                // side
            num += count(x, y + 1, ele);
        }

        // diagonal neighbors
        if (withinBound(x - 1, y - 1, ele)
                &amp;&amp; rainFlowFrom(x, y, x - 1, y - 1, ele)) { // upper elment
            num += count(x - 1, y - 1, ele);
        }
        if (withinBound(x + 1, y + 1, ele)
                &amp;&amp; rainFlowFrom(x, y, x + 1, y + 1, ele)) { // lower element
            num += count(x + 1, y + 1, ele);
        }
        if (withinBound(x + 1, y - 1, ele)
                &amp;&amp; rainFlowFrom(x, y, x + 1, y - 1, ele)) { // left hand side
            num += count(x + 1, y - 1, ele);
        }
        if (withinBound(x - 1, y + 1, ele)
                &amp;&amp; rainFlowFrom(x, y, x - 1, y + 1, ele)) { // right hand side
            num += count(x - 1, y + 1, ele);
        }

        return num;
    }

    static Boolean withinBound(int x, int y, int[][] ele) {
        int bound = ele.length;
        return (x &gt;= 0 &amp;&amp; x &lt; bound &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; bound);
    }

    static Boolean rainFlowFrom(int a, int b, int c, int d, int[][] ele) {
        // rain in (c,d) flows into (a,b).
        if (ele[a][b] &gt;= ele[c][d])
            // if (a,b) is higher than (c,d), impossible to flow this way
            return false;

        int lowest = lowestNeighbor(c, d, ele);

        return (ele[a][b] == lowest);
        // the question states "you may assume it has a unique lowest neighbor"
        // so if flow to (a,b), then that is the unique lowest height.
    }

    static int lowestNeighbor(int a, int b, int[][] ele) {
        int height = 9999999;

        // adjacent neighbor
        if (withinBound(a - 1, b, ele) &amp;&amp; ele[a - 1][b] &lt; height) {
            height = ele[a - 1][b];
        }
        if (withinBound(a + 1, b, ele) &amp;&amp; ele[a + 1][b] &lt; height) {
            height = ele[a + 1][b];
        }
        if (withinBound(a, b - 1, ele) &amp;&amp; ele[a][b - 1] &lt; height) {
            height = ele[a][b - 1];
        }
        if (withinBound(a, b + 1, ele) &amp;&amp; ele[a][b + 1] &lt; height) {
            height = ele[a][b + 1];
        }

        // diagonal neighbor
        if (withinBound(a - 1, b - 1, ele) &amp;&amp; ele[a - 1][b - 1] &lt; height) {
            height = ele[a - 1][b - 1];
        }
        if (withinBound(a + 1, b - 1, ele) &amp;&amp; ele[a + 1][b - 1] &lt; height) {
            height = ele[a + 1][b - 1];
        }
        if (withinBound(a - 1, b + 1, ele) &amp;&amp; ele[a - 1][b + 1] &lt; height) {
            height = ele[a - 1][b + 1];
        }
        if (withinBound(a + 1, b + 1, ele) &amp;&amp; ele[a + 1][b + 1] &lt; height) {
            height = ele[a + 1][b + 1];
        }
        return height;
    }
}

class Pair {

    public int X;
    public int Y;

    public Pair(int _x, int _y) {
        X = _x;
        Y = _y;
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/19/difference-http-tcp/">[Design] Difference Between HTTP Protocol and TCP Protocol</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-19T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/19/difference-http-tcp/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.quora.com/What-is-the-difference-between-HTTP-protocol-and-TCP-protocol">ref</a></p>

<h3>Short Version</h3>

<p>TCP is a <strong>transport-layer</strong> protocol, and HTTP is an <strong>application-layer</strong> protocol that runs over TCP.</p>

<h3>The layers</h3>

<p>At the very bottom of the network stack is the <strong>physical layer</strong>. This is where electrical signals or light pulses or radio waves actually transmit information from place to place. The physical layer doesn&rsquo;t really have protocols, but instead has standards for voltages, frequencies, and other physical properties. You can transmit information directly this way, but you need a lot of power or a dedicated line, and without higher layers you won&rsquo;t be able to share bandwidth.</p>

<p>The next layer up is the <strong>link layer</strong>. This layer covers communication with devices that share a physical communications medium. Here, protocols like Ethernet, 802.11a/b/g/n, and Token Ring specify how to handle multiple concurrent accesses to the physical medium and how to direct traffic to one device instead of another. In a typical home network, this is how your computer talks to your home &ldquo;router.&rdquo;</p>

<p>The third layer is the <strong>network layer</strong>. In the majority of cases, this is dominated by Internet Protocol (IP). This is where the magic of the Internet happens, and you get to talk to a computer halfway around the world, without needing to know where it is. Routers handle directing your traffic from your local network to the network where the other computer lives, where its own link layer handles getting the packets to the right computer.</p>

<p>Now we are getting somewhere. We can talk to a computer somewhere around the world, but that computer is running lots of different programs. How should it know which one to deliver your message to? The <strong>transport layer</strong> takes care of this, usually with <strong>port numbers</strong>. The two most popular transport layer protocols are TCP and UDP. TCP does a lot of interesting things to smooth over the rough spots of network-layer packet-switched communication like reordering packets, retransmitting lost packets, etc. UDP is more unreliable, but has less overhead.</p>

<p>So we&rsquo;ve connected your browser to the web server software on the other end, but how does the server know what page you want? How can you post a question or an answer? These are things that <strong>application-layer</strong> protocols handle. For <strong>web traffic</strong>, this is the HyperText Transfer Protocol (HTTP). There are thousands of application-layer protocols: SMTP, IMAP, and POP3 for email; XMPP, IRC, ICQ for chat; Telnet, SSH, RDP for remote administration; etc.</p>

<p>Ref: <a href="http://qr.ae/3pnJK">http://qr.ae/3pnJK</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/19/check-if-point-inside-polygon/">[Question] Check if Given Point Inside Polygon</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-19T00:00:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="/blog/2015/01/19/check-if-point-inside-polygon/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/">link</a></p>

<blockquote><p>Given a polygon and a point ‘p’, find if ‘p’ lies inside the polygon or not. The points lying on the border are considered inside.</p></blockquote>

<p><img class="middle" src="/assets/images/point-in-polygon.png"></p>

<h3>Solution</h3>

<p>Prerequisite reading: <strong>[Question] Check if two line segments intersect</strong>.</p>

<p>Suggested by G4G, this is a simple idea to check:</p>

<p><img class="middle" src="/assets/images/polygon31-300x169.png"></p>

<ol>
<li><p>Draw a horizontal line to the right of each point and extend it to infinity</p></li>
<li><p>Count the number of times the line intersects with polygon edges.</p></li>
<li><p>A point is inside the polygon if either count of intersections is odd or point lies on an edge of polygon.</p></li>
<li><p>Note the special case of point &lsquo;g&rsquo;.</p></li>
</ol>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="8">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="6">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150v4/'>cc150v4 (34)</a></li>
<li class='category'><a href='/blog/categories/cc150v5/'>cc150v5 (28)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (72)</a></li>
<li class='category'><a href='/blog/categories/experience/'>experience (3)</a></li>
<li class='category'><a href='/blog/categories/facebook/'>facebook (10)</a></li>
<li class='category'><a href='/blog/categories/fundamental/'>fundamental (11)</a></li>
<li class='category'><a href='/blog/categories/google/'>google (63)</a></li>
<li class='category'><a href='/blog/categories/java-oop/'>java oop (28)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (153)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (16)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (119)</a></li>
<li class='category'><a href='/blog/categories/string-search/'>string search (17)</a></li>
<li class='category'><a href='/blog/categories/testing/'>testing (7)</a></li>
<li class='category'><a href='/blog/categories/top-k/'>top k (7)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/02/15/HBase-and-HDFS/">[Design] HBase and HDFS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/14/speed-up-web-page-4/">[Design] Speed Up Webpage for Slow Connection (4) </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/14/speed-up-web-page-3/">[Design] Speed Up Webpage for Slow Connection (3) </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/14/speed-up-web-page-2/">[Design] Speed Up Webpage for Slow Connection (2) </a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/14/speed-up-web-page-1/">[Design] Speed Up Webpage for Slow Connection (1) </a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - shuati -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'woodstockblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
