
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Question link Given an array S of n integers, are there elements a, b, c in S such that a + b + c = 0? Find all unique triplets in the array which &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://okckd.github.io/posts/34">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:okckd.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/02/3Sum/">[LeetCode 15] 3Sum</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-02T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/3sum/">link</a></p>

<div class="question-content">
            <p></p><p>Given an array <i>S</i> of <i>n</i> integers, are there elements <i>a</i>, <i>b</i>, <i>c</i> in <i>S</i> such that <i>a</i> + <i>b</i> + <i>c</i> = 0? Find all unique triplets in the array which gives the sum of zero.</p>

<p><b>Note:</b><br>
</p><ul>
<li>Elements in a triplet (<i>a</i>,<i>b</i>,<i>c</i>) must be in non-descending order. (ie, <i>a</i> ≤ <i>b</i> ≤ <i>c</i>)</li>
<li>The solution set must not contain duplicate triplets.</li>
</ul>
<p></p>

<pre>    For example, given array S = {-1 0 1 2 -1 -4},

    A solution set is:
    (-1, 0, 1)
    (-1, -1, 2)
</pre><p></p>
</div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="red">5</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="red">5</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="yellow">
            <div>
                Difficult
            </div>
        </td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p>The array must be sorted first. <strong>Then this question is easily solved with O(n<sup>2</sup>) time.</strong> The idea is, for every integer, a from the array, try to find all combinations of b and c, where b+c = -a. The implementation use <strong>2-pointer scan</strong>.</p>

<p>There might be a problem of duplications. Eg. array = {-5, 2, 2, 3, 3}. When a = -5, we can choose 2, 3 and move pointers both by 1 position. Then we can choose 2, 3 again. We shall increase the pointer to where the value is different, and the problem is solved.</p>

<h3>My code</h3>

<pre><code>public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; threeSum(int[] num) {
    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ans = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
    if (num.length &lt; 3)
        return ans;
    Arrays.sort(num);
    for (int i = 0; i &lt; num.length - 2; i++) {
        if (i != 0 &amp;&amp; num[i - 1] == num[i])
            continue;
        int target = 0 - num[i];
        int left = i + 1, right = num.length - 1;
        while (left &lt; right) {
            if (num[left] + num[right] &gt; target)
                right--;
            else if (num[left] + num[right] &lt; target)
                left++;
            else {
                ArrayList&lt;Integer&gt; found = new ArrayList&lt;Integer&gt;();
                found.add(num[i]);
                found.add(num[left]);
                found.add(num[right]);
                Collections.sort(found);
                ans.add(found);
                while (left &lt; num.length - 1 &amp;&amp; num[++left] == num[left - 1]) ;
                while (right &gt; i + 1 &amp;&amp; num[--right] == num[right + 1]) ;
            }
        }
    }
    return ans;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/01/Longest-Common-Prefix/">[LeetCode 14] Longest Common Prefix</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-01T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/longest-common-prefix/">link</a></p>

<div class="question-content">
            <p></p><p>Write a function to find the longest common prefix string amongst an array of strings.
</p><p></p>
          </div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="white">1</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="white">2</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="white">1</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="white">10 minutes</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p><strong>This question have straight-forward solution.</strong> Every online solution is the same as my method, however, there&rsquo;s another more generalized <a href="http://en.wikipedia.org/wiki/LCP_array"><strong>LCP array</strong></a> which is solved by use of <a href="http://en.wikipedia.org/wiki/Trie">Trie</a>. I&rsquo;m not interested in this topic right now.</p>

<h3>Solution</h3>

<p>The code explains itself.</p>

<h3>My code</h3>

<p>My original solution.</p>

<pre><code>public String longestCommonPrefix(String[] strs) {
    if (strs.length == 0)
        return "";
    int shortest = strs[0].length();
    for (String a : strs)
        shortest = Math.min(shortest, a.length());
    for (int i = 0; i &lt; shortest; i++) {
        for (int j = 1; j &lt; strs.length; j++) {
            // check strs[j].charAt(i)
            if (strs[j].charAt(i) != strs[j - 1].charAt(i)) {
                return strs[0].substring(0, i);
            }
        }
    }
    return strs[0].substring(0, shortest);
}
</code></pre>

<p><strong>Refactored code</strong>. I do not really need &lsquo;shortest&rsquo;. Increase execution time from 468ms to 456 ms.</p>

<p>This is the shortest code for this question, for my best knowledge :)</p>

<pre><code>public String longestCommonPrefix(String[] strs) {
    if (strs.length == 0) return "";
    for (int i = 0; i &lt; strs[0].length(); i++)
        for (int j = 1; j &lt; strs.length; j++)
            if (strs[j].length() == i
                    || strs[j].charAt(i) != strs[0].charAt(i))
                return strs[0].substring(0, i);
    return strs[0];
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/30/Roman-to-Integer/">[LeetCode 13] Roman to Integer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-30T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/roman-to-integer/">link</a></p>

<div class="question-content">
            <p></p><p>Given a roman numeral, convert it to an integer.</p>

<p>Input is guaranteed to be within the range from 1 to 3999.</p><p></p>
          </div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="red">4</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="">&#8212;&#8212;&#8211;</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p>This question is easier than &ldquo;Integer to Roman&rdquo;.</p>

<p><strong>This question is easy, but writing code is not very very easy</strong>. The main idea is to always read 2 char and check. If pre > cur, then OK. If pre &lt; cur, we need to subtract (2 * pre) from the result.</p>

<p>The rest is fine.</p>

<h3>Solution</h3>

<p>The code explains itself.</p>

<h3>My code</h3>

<pre><code>public int romanToInt(String s) {
    int pre = 0;
    int cur = 0;
    int sum = 0;
    if (s.equals("")) return 0;
    for (char t: s.toCharArray()){
        cur = getNum(t);
        if (pre != 0 &amp;&amp; pre &lt; cur){
            sum += cur - (2 * pre);
            pre = 0;
        } else {
            sum += cur;
            pre = cur;
        }
    }
    return sum;
}

private int getNum(char a){
    switch(a){
        case 'I': return 1;
        case 'V': return 5;
        case 'X': return 10;
        case 'L': return 50;
        case 'C': return 100;
        case 'D': return 500;
        case 'M': return 1000;
    }
    return 0;
}
</code></pre>

<p>This is another <a href="http://yucoding.blogspot.sg/2013/05/leetcode-question-87-roman-to-interger.html">very interesting solution</a> from online. <strong>It basically just use addition, and solve the problem perfectly!</strong> (The code is C++)</p>

<pre><code>class Solution {
public:
    int romanToInt(string s) {
        // 4:IV, 9:IX, 40:XL, 90:XC, 400:CD, 900:CM,
        // 1:I, 10:X, 100:C, 1000:M
        int res=0;
        char pre = ' ';
        for(int i=0;i&lt;s.size();i++){
            if (s[i]=='M' &amp;&amp; pre!='C') {res+=1000;}
            if (s[i]=='C' &amp;&amp; pre!='X') {res+=100;}
            if (s[i]=='X' &amp;&amp; pre!='I') {res+=10;}

            if (s[i]=='M' &amp;&amp; pre=='C') {res+=800;}
            if (s[i]=='C' &amp;&amp; pre=='X') {res+=80;}
            if (s[i]=='X' &amp;&amp; pre=='I') {res+=8;}

            if (s[i]=='I' ) {res+=1;}

            if (s[i]=='V' &amp;&amp; pre!='I'){res+=5;}
            if (s[i]=='L' &amp;&amp; pre!='X'){res+=50;}
            if (s[i]=='D' &amp;&amp; pre!='C'){res+=500;}

            if (s[i]=='V' &amp;&amp; pre=='I'){res+=3;}
            if (s[i]=='L' &amp;&amp; pre=='X'){res+=30;}
            if (s[i]=='D' &amp;&amp; pre=='C'){res+=300;}

            pre = s[i];
        }
        return res;
    }
};
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/30/Integer-to-Roman/">[LeetCode 12] Integer to Roman</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-30T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/integer-to-roman/">link</a></p>

<div class="question-content">
<p></p><p>Given an integer, convert it to a roman numeral.
</p>
<p>Input is guaranteed to be within the range from 1 to 3999.</p><p></p>
</div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="red">4</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="yellow">35 minutes</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<table>
<thead>
<tr>
<th>Symbol </th>
<th align="center"> Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>I</td>
<td align="center">1</td>
</tr>
<tr>
<td>V</td>
<td align="center">5</td>
</tr>
<tr>
<td>X</td>
<td align="center">10</td>
</tr>
<tr>
<td>L</td>
<td align="center">50</td>
</tr>
<tr>
<td>C</td>
<td align="center">100</td>
</tr>
<tr>
<td>D</td>
<td align="center">500</td>
</tr>
<tr>
<td>M</td>
<td align="center">1,000</td>
</tr>
</tbody>
</table>


<p>Though <a href="http://en.wikipedia.org/wiki/Roman_numerals">Roman numerals</a> looks complex, it&rsquo;s actually converted bit by bit. For example 207=>CCVII. We can then construct <strong>the following relationship table</strong>:</p>

<table>
<thead>
<tr>
<th>Base/number</th>
<th align="center">Number(1)</th>
<th align="center">Number(5)</th>
<th align="center">Number(10)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td align="center">I</td>
<td align="center">V</td>
<td align="center">X</td>
</tr>
<tr>
<td>10</td>
<td align="center">X</td>
<td align="center">L</td>
<td align="center">C</td>
</tr>
<tr>
<td>100</td>
<td align="center">C</td>
<td align="center">D</td>
<td align="center">M</td>
</tr>
<tr>
<td>1000</td>
<td align="center">M</td>
<td align="center">n.a.</td>
<td align="center">n.a.</td>
</tr>
</tbody>
</table>


<p>So for each number, just do convert according to the above table.</p>

<blockquote><p>9=>IX</p>

<p>400=>CD.</p></blockquote>

<p>The question states that input is less than 3999, so we have 2 &ldquo;n.a.&rdquo; in the table.</p>

<h3>Solution</h3>

<p><strong>The code itself is really straight-forward</strong>. This time my code is better than last month&rsquo;s, so I post it below. It is followed by someone else&rsquo;s code, which is even better and easy to understand.</p>

<h3>My code</h3>

<pre><code>char[][] roman = { { 'I', 'V', 'X' }, 
           { 'X', 'L', 'C' }, 
           { 'C', 'D', 'M' },
           { 'M', '*', '*' } };

public String intToRoman(int num) {
    String ans = "";
    int base = 1, count = 0, temp = num;
    while (temp &gt; 1) {
        base *= 10;
        count++;
        temp /= 10;
    }
    while (base &gt; 0) {
        int cur = num / base;
        // now convert cur into roman string
        if (cur &gt;= 6 &amp;&amp; cur &lt;= 8) {
            ans += roman[count][1];
            cur = cur % 5;
        }
        if (cur &gt;= 1 &amp;&amp; cur &lt;= 3)
            for (int k = 0; k &lt; cur; k++)
                ans += roman[count][0];
        else if (cur == 5)
            ans += roman[count][1];
        else if (cur == 4)
            ans += roman[count][0] + "" + roman[count][1];
        else if (cur == 9)
            ans += roman[count][0] + "" + roman[count][2];
        num = num % base;
        base /= 10;
        count--;
    }
    return ans;
}
</code></pre>

<p>This is a very <a href="http://stackoverflow.com/a/19759564">simple solution</a> by stackoverflow user bhlangonijr. This method <strong>makes use of Java</strong> <a href="http://goo.gl/e8ryim">TreeMap.floorKey</a></p>

<blockquote><p>TreeMap.floorKey &ndash; Returns the greatest key less than or equal to the given key, or null if there is no such key.</p></blockquote>

<pre><code>public String intToRoman3(int num) {
    TreeMap&lt;Integer, String&gt; map = new TreeMap&lt;Integer, String&gt;();
    map.put(1000, "M");
    map.put(900, "CM");
    map.put(500, "D");
    map.put(400, "CD");
    map.put(100, "C");
    map.put(90, "XC");
    map.put(50, "L");
    map.put(40, "XL");
    map.put(10, "X");
    map.put(9, "IX");
    map.put(5, "V");
    map.put(4, "IV");
    map.put(1, "I");
    int l = map.floorKey(num);
    if (num == l) {
        return map.get(num);
    }
    return map.get(l) + intToRoman3(num - l);
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/ZigZag-Conversion/">[LeetCode 6] ZigZag Conversion</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/zigzag-conversion/">link</a></p>

<div class="question-content">
<p></p><p>
The string <code>"PAYPALISHIRING"</code> is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)
</p><pre>
P   A   H   N
A P L S I I G
Y   I   R
</pre>

And then read line by line: <code>"PAHNAPLSIIGYIR"</code><p></p>

<p>
Write the code that will take a string and make this conversion given a number of rows:

</p><pre>string convert(string text, int nRows);</pre>

<code>convert("PAYPALISHIRING", 3)</code> should return <code>"PAHNAPLSIIGYIR"</code>.
<p></p><p></p>
</div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="white">1</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="yellow">45 minutes</td>
    </tr>
</table>


<h3>Analysis</h3>

<p><strong>This question is easy</strong>. Just follow the basic math function and the solution is achieved.</p>

<p>I coded quickly, but then found that using a String to store result will exceed time limit. I then changed to use <strong>char array</strong> to store result.</p>

<p>Later I found that insead of using String, I can use <strong>StringBuilder</strong> to make the program faster.</p>

<h3>Solution</h3>

<p>Two sets of code mentioned above is shown.</p>

<h3>My code</h3>

<p>My first solution using <strong>StringBuilder to store result</strong>. Passed but not good. (Basically, return &ldquo;&rdquo; at the last line is an bad idea)</p>

<pre><code>public String convert(String s, int nRows) {
    if (nRows &lt;= 1) return s;
    int eachPattern = 2 * nRows - 2;
    int numPatterns = (s.length() - 1) / eachPattern + 1;
    StringBuilder ans = new StringBuilder();
    for (int j = 0; j &lt; nRows; j++) {
        for (int i = 0; i &lt; numPatterns; i++) {
            ans.append(find(s, eachPattern, i, j));
            if (j != 0 &amp;&amp; j != nRows - 1)
                ans.append(find(s, eachPattern, i, 2 * (nRows - 1) - j));
        }
    }
    return ans.toString();
}
private String find(String s, int eachPattern, int i, int j) {
    // find (j)th element from (i)th pattern
    int temp = eachPattern * i + j;
    if (temp &lt; s.length())
        return s.substring(temp, temp + 1);
    return "";
}
</code></pre>

<p>Enhance solution, use <strong>char[] to store result</strong></p>

<pre><code>public String convert(String s, int nRows) {
    if (nRows &lt;= 1) return s;
    int eachPattern = 2 * nRows - 2;
    int numPatterns = (s.length() - 1) / eachPattern + 1;
    char[] ans = new char[s.length()];
    int index = 0;
    for (int j = 0; j &lt; nRows; j++) {
        // j is current row number
        for (int i = 0; i &lt; numPatterns; i++) { 
            // i is current pattern
            char temp = find(s, eachPattern, i, j);
            if (temp == 0) break;
            ans[index++] = temp;
            if (j != 0 &amp;&amp; j != nRows - 1) {
                temp = find(s, eachPattern, i, 2 * (nRows - 1) - j);
                if (temp == 0) break;
                ans[index++] = temp;
            }
        }
    }
    return String.valueOf(ans);
}

private char find(String s, int eachPattern, int i, int j) {
    // find (j)th element from (i)th pattern
    int temp = eachPattern * i + j;
    if (temp &lt; s.length()) return s.charAt(temp);
    return 0;
}
</code></pre>

<p>A much shorter version from <a href="http://blog.csdn.net/linhuanmars/article/details/21145039">a blog</a> (the idea is same)</p>

<pre><code>public String convert(String s, int nRows) {
    if (s == null || s.length() == 0 || nRows &lt;= 0) return "";
    if (nRows == 1) return s;
    StringBuilder res = new StringBuilder();
    int size = 2 * nRows - 2;
    for (int i = 0; i &lt; nRows; i++) {
        for (int j = i; j &lt; s.length(); j += size) {
            res.append(s.charAt(j));
            if (i != 0 &amp;&amp; i != nRows - 1 &amp;&amp; j + size - 2 * i &lt; s.length())
                res.append(s.charAt(j + size - 2 * i));
        }
    }
    return res.toString();
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/String-to-Integer-(atoi)/">[LeetCode 8] String to Integer (Atoi)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/string-to-integer-atoi/">link</a></p>

<div class="question-content">
            <p></p><p>Implement <span style="font-family:monospace">atoi</span> to convert a string to an integer.</p>

<p><b>Hint:</b> Carefully consider all possible input cases. If you want a challenge, please do not see below and ask yourself what are the possible input cases.</p>

<p>
<b>Notes:</b> 
It is intended for this problem to be specified vaguely (ie, no given input specs). You are responsible to gather all the input requirements up front. </p>

<div class="spoilers"><b>Requirements for atoi:</b>

<p>The function first discards as many whitespace characters as necessary until the first non-whitespace character is found. Then, starting from this character, takes an optional initial plus or minus sign followed by as many numerical digits as possible, and interprets them as a numerical value.</p>

<p>The string can contain additional characters after those that form the integral number, which are ignored and have no effect on the behavior of this function.</p>

<p>If the first sequence of non-whitespace characters in str is not a valid integral number, or if no such sequence exists because either str is empty or it contains only whitespace characters, no conversion is performed.</p>

<p>If no valid conversion could be performed, a zero value is returned. If the correct value is out of the range of representable values, INT_MAX (2147483647) or INT_MIN (-2147483648) is returned.
</p>
</div><p></p>
          </div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="red">5</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="lime">30 minutes</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p>This question is easy, just handle all cases listed below:</p>

<ol>
<li>null or empty string</li>
<li>white spaces</li>
<li>+/&ndash; sign</li>
<li>calculate real value</li>
<li>handle min &amp; max</li>
</ol>


<h3>Solution</h3>

<p>I&rsquo;m using <strong>one loop to read it through, and in the end do some checking</strong>. I think my code is quite optimized. There is another <a href="http://www.programcreek.com/2012/12/leetcode-string-to-integer-atoi/">good solution</a> from online. Idea is same.</p>

<h3>My code</h3>

<pre><code>public int atoi(String str) {
    char[] in = str.toCharArray();
    int start = -1, end = -1, sign = 1;
    for (int i = 0; i &lt; in.length; i++) {
        if (start == -1) {
            if (in[i] == ' ') continue;
            else if (in[i] == '+')
                start = end = i + 1;
            else if (in[i] == '-') {
                start = end = i + 1;
                sign = -1;
            } else if (in[i] &gt;= '0' &amp;&amp; in[i] &lt;= '9') {
                start = i;
                end = i + 1;
            } else
                return 0;
        } else {
            if (in[i] &gt;= '0' &amp;&amp; in[i] &lt;= '9')
                end = i + 1;
            else break;
        }
    }
    if (start == -1 || start == end || start &gt;= in.length)
        return 0;
    BigInteger num = new BigInteger(str.substring(start, end));
    if (num.compareTo(BigInteger.valueOf(Integer.MAX_VALUE)) &gt; 0)
        return (sign == 1 ? Integer.MAX_VALUE : Integer.MIN_VALUE);
    return sign * num.intValue();
}
</code></pre>

<p><strong>updated on Aug 13th, 2014</strong>. Happy Birthday.</p>

<pre><code>public int atoi(String str) {
    if (str == null || str.length() == 0) {
        return 0;
    } 
    // remove space in heading
    str = str.trim();
    if (str.length() == 0) {
        return 0;
    }
    // get the correct +/- sign for the number
    int sign = 1;
    if (str.charAt(0) == '+') {
        str = str.substring(1);
    } else if (str.charAt(0) == '-') {
        sign = -1;
        str = str.substring(1);
    }
    // find the first instance of non-number char
    int p = 0;
    while (p &lt; str.length()) {
        char c = str.charAt(p);
        if (c &lt; '0' || c &gt; '9') {
            break;
        } else {
            p++;
        }
    }
    if (p == 0) {
        return 0;
    }
    // now string (0, p) shall be the absolute value part 
    String absValStr = str.substring(0, p);
    long absVal = Long.parseLong(absValStr);
    long finalVal = sign * absVal;
    // return the correct value;
    if (finalVal &gt; Integer.MAX_VALUE) {
        return Integer.MAX_VALUE;
    } else if (finalVal &lt; Integer.MIN_VALUE) {
        return Integer.MIN_VALUE;
    } else {
        return (int) finalVal;
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/Regular-Expression-Matching/">[LeetCode 10] Regular Expression Matching</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/regular-expression-matching/">link</a></p>

<div class="question-content">
<p></p><p>Implement regular expression matching with support for <code>'.'</code> and <code>'*'</code>.</p>

<pre>'.' Matches any single character.
'*' Matches <b>zero or more of the preceding</b> element.

The matching should cover the <b>entire</b> input string (not partial).

The function prototype should be:
bool isMatch(const char *s, const char *p)

Some examples:
isMatch("aa","a") → false
isMatch("aa","aa") → true
isMatch("aaa","aa") → false
isMatch("aa", "a*") → true
isMatch("aa", ".*") → true
isMatch("ab", ".*") → true
isMatch("aab", "c*a*b") → true
</pre><p></p>
</div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="red">5</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="red">4</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="red">a very long time</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p><strong>There are only 2 cases to consider</strong>. One, the next char is not a star sign, this requires simply char compare. <strong>Two, the next char is a star sign</strong>, this will requires a bit brute force. The program will enumerate all possible number of repetition of current char, and check validation one by one.</p>

<p>The code is very complex and, though I tried, I failed to implement the solution.</p>

<p>Although looks like DP, <strong>Do not solve it with DP, because there is no one doing that</strong>.</p>

<h3>My code</h3>

<p>This is <a href="http://www.programcreek.com/2012/12/leetcode-regular-expression-matching-in-java/">someone&rsquo;s code</a>, which I refactored a bit to make it easier to understand.</p>

<pre><code>public boolean isMatch(String s, String p) {
    // s is normal string, and p is regex string
    if (p.length() == 0) {
        return s.length() == 0;
    } else if (p.length() &lt; 2 || p.charAt(1) != '*') {
        // if 2nd char in p is not '*', then match character
        if (s.length() == 0) {
            return false;
        } else if (p.charAt(0) != '.' &amp;&amp; s.charAt(0) != p.charAt(0)) {
            return false;
        } else {
            return isMatch(s.substring(1), p.substring(1));
        }
    } else {
        // if 2nd char in p is '*', then iterate all position repetitions
        char repeatLetter = p.charAt(0);
        for (int i = 0; i &lt;= s.length(); i++) {
            // i is the number of repetition of repeatLetter, start from 0
            if (i &gt; 0 &amp;&amp; repeatLetter != s.charAt(i - 1) 
                        &amp;&amp; repeatLetter != '.') {
                break;
            } else {
                if (isMatch(s.substring(i), p.substring(2))) {
                    return true;
                }
            }
        }
        return false;
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/Palindrome-Number/">[LeetCode 9] Palindrome Number</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/palindrome-number/">link</a></p>

<div class="question-content">
            <p></p><p>Determine whether an integer is a palindrome. Do this without extra space.</p>

<div class="spoilers" style="display: block;"><b>Some hints:</b>

<p>Could negative integers be palindromes? (ie, -1)</p>

<p>If you are thinking of converting the integer to string, note the restriction of using extra space.</p>

<p>You could also try reversing an integer. However, if you have solved the problem &#8220;Reverse Integer&#8221;, you know that the reversed integer might overflow. How would you handle such case?</p>

<p>There is a more generic way of solving this problem.</p>

</div><p></p>
          </div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="lime">8 minutes coding only</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p>This question is easy, and very similar to the &ldquo;Reverse Integer&rdquo; qeuestion. <strong>Simpliest method is to just reverse the integer</strong> and compare with original number.</p>

<p>But again, reversing the integer have chances of <strong>overflow</strong>. If overflows, the return result is wrong.</p>

<p>So <strong>we will use direct compare method</strong> to always compare the head and tail of the number. It&rsquo;s not difficult.</p>

<h3>Solution</h3>

<p>As shown in the code.</p>

<h3>My code</h3>

<pre><code>public boolean isPalindrome(int x) {
    if (x &lt; 0)
        return false;
    int divide = 1;
    while (x / divide &gt;= 10) {
        divide *= 10;
    }
    int head = 0, tail = 0;
    while (divide &gt; 0) {
        head = x / divide;
        tail = x % 10;
        if (head != tail)
            return false;
        x = x % divide / 10;
        divide /= 100;
    }
    return true;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/Container-With-Most-Water/">[LeetCode 11] Container With Most Water</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/container-with-most-water/">link</a></p>

<div class="question-content">
            <p></p><p>Given <i>n</i> non-negative integers <i>a<sub>1</sub></i>, <i>a<sub>2</sub></i>, &#8230;, <i>a<sub>n</sub></i>, where each represents a point at coordinate (<i>i</i>, <i>a<sub>i</sub></i>). <i>n</i> vertical lines are drawn such that the two endpoints of line <i>i</i> is at (<i>i</i>, <i>a<sub>i</sub></i>) and (<i>i</i>, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.
</p>
<p>Note: You may not slant the container.
</p><p></p>
          </div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="red">4</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="yellow">15 minutes coding</td>
    </tr>
</table>


<p>Ratings/Color = 1(white) 2(lime) 3(yellow) 4/5(red)</p>

<h3>Analysis</h3>

<p>Assume i and j are 2 points in x-axis where i &lt; j. The container volume is decided by the shorter height among the two. Assume i is lower than j, there will be no i &lt; jj &lt; j that makes the area of (i,jj) greater than area of (i,j). <strong>In other words, all (i,jj) is smaller than (i,j) so there&rsquo;s no need to check theme</strong> any more. Thus we move i forward by 1. This is explained in <a href="http://jane4532.blogspot.sg/2013/05/container-with-most-water-leetcode.html">this post</a></p>

<h3>Solution</h3>

<p><strong>Two-pointer scan</strong>. And always move with shorter board index, as explained in <a href="http://fisherlei.blogspot.sg/2013/01/leetcode-container-with-most-water.html">this post</a>.</p>

<p>The code is extremely short.</p>

<h3>My code</h3>

<pre><code>public int maxArea(int[] height) {
    int max = 0;
    int left = 0, right = height.length - 1;
    while (left &lt; right) {
        max = Math.max(max,
                (right - left) * Math.min(height[left], height[right]));
        if (height[left] &lt; height[right])
            left++;
        else if (height[left] &gt; height[right])
            right--;
        else if (height[left] == height[right]) {
            left++;
            right--;
        }
    }
    return max;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/28/reverse-integer/">[LeetCode 7] Reverse Integer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-28T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://oj.leetcode.com/problems/reverse-integer/">link</a></p>

<div class="question-content">
<p></p><p>Reverse digits of an integer.</p>

<p style="font-family:monospace">
<b>Example1:</b> x =  123, return  321<br>
<b>Example2:</b> x = -123, return -321
</p>

<div class="spoilers"><b>Have you thought about this?</b>
<p>Here are some good questions to ask before coding. Bonus points for you if you have already thought through this!</p>
<p>If the integer&#8217;s last digit is 0, what should the output be? ie, cases such as 10, 100.</p>
<p>Did you notice that the reversed integer might overflow? Assume the input is a 32-bit integer, then the reverse of 1000000003 overflows. How should you handle such cases?</p>
<p>Throw an exception? Good, but what if throwing an exception is not an option? You would then have to re-design the function (ie, add an extra parameter).</p>
</div><p></p>
</div>


<h3>Stats</h3>

<table border="2">
    <tr>
        <td>Frequency</td>
        <td bgcolor="yellow">3</td>
    </tr>
    <tr>
        <td>Diffficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Adjusted Difficulty</td>
        <td bgcolor="lime">2</td>
    </tr>
    <tr>
        <td>Time to use</td>
        <td bgcolor="lime">10 minutes</td>
    </tr>
</table>


<h3>Analysis</h3>

<p>This question is very easy. <strong>But 2 points are very tricky.</strong></p>

<p>First, <strong>the overflow issue</strong>. This detail is easily omitted. When overflow, we shall return -1. Note that when overflow, the +/&ndash; sign of the number changes. Look at the following overflow case for Java int:</p>

<pre><code>300000000 * 10 returns -1294967296
-300000000 * 10 returns 1294967296
</code></pre>

<p>So simply check if the number changed sign, we will know if overflow happens.</p>

<p>Second, <strong>how to handle the negative sign</strong>. My solution will convert negative to positive and proceed. However after reading <a href="http://fisherlei.blogspot.sg/2012/12/leetcode-reverse-integer.html">this post</a>, I realize that we do not necessarily need to handle negative sign. The following code almost works fine:</p>

<pre><code>public int reverse2(int x) {
    int reverse = 0;
    while (x != 0) {
        reverse = reverse * 10 + x % 10;
        x /= 10;
    }
    return reverse;
}
</code></pre>

<p>Though above code looks teriffic, <strong>but it&rsquo;s incorrect because it doesn&rsquo;t handle overflow</strong> (eg. input = 1000000003 or -1000000003). I made small modifications to correct it, and code is shown later.</p>

<h3>Solution</h3>

<p>As shown.</p>

<h3>My code</h3>

<p>First solution, consider +/&ndash; and overflow.</p>

<pre><code>public int reverse1(int x) {
    if (x &lt; 10 &amp;&amp; x &gt; -10) return x;
    int sign = 1, num = x;
    if (x &lt; 0) {
        sign = -1;
        num = -1 * x;
    }
    // now num is absolute value of x
    int reverse = 0;
    while (num &gt; 0) {
        reverse = 10 * reverse + num % 10;
        num = num / 10;
    }
    if (reverse &lt; 0) return -1;
        else return reverse * sign;
}
</code></pre>

<p>Second solution, do not consider +/&ndash;, only consider overflow.</p>

<pre><code>public int reverse2(int x) {
    int reverse = 0;
    while (x != 0) {
        if ((long)x * 10 &lt; Integer.MIN_VALUE 
            || (long)x * 10 &gt; Integer.MAX_VALUE)
                return -1;
        reverse = reverse * 10 + x % 10;
        x /= 10;
    }
    return reverse;
}
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/35">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/33">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150/'>cc150 (4)</a></li>
<li class='category'><a href='/blog/categories/collection/'>collection (5)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (39)</a></li>
<li class='category'><a href='/blog/categories/facebook/'>facebook (2)</a></li>
<li class='category'><a href='/blog/categories/google/'>google (20)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (155)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (15)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (80)</a></li>
<li class='category'><a href='/blog/categories/thoughts/'>thoughts (5)</a></li>
<li class='category'><a href='/blog/categories/twitter/'>twitter (1)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/08/22/design-deck-card/">[CC150] v4.7.1 Design a Generic Deck of Cards</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/20/Talk-about-singleton/">[Design] About Singleton</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/20/Square-count-in-matchstick-graph/">[Question] Square Count of Matchstick Graph</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/20/Dice-roll-DP-question/">[Question] Ways of Dice Throw</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/20/Count-set-bit-in-binary-number/">[Question] Count Set Bit in Binary Number</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
