
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Overview Thread pool is a collection of managed threads usually organized in a queue, which execute the tasks in the task queue. A sample thread pool &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://okckd.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:okckd.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/Thread-pool-pattern/">[Design] Thread Pool Pattern</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Overview</h3>

<p><a href="http://programmers.stackexchange.com/a/173580">Thread pool</a> is a collection of managed threads usually organized in a queue, which execute the tasks in the task queue.</p>

<p><img class="middle" src="/assets/images/thread-pool.png"></p>

<p><a href="http://en.wikipedia.org/wiki/Thread_pool_pattern">A sample thread pool</a> (green boxes) with waiting tasks (blue) and completed tasks (yellow)</p>

<h3>Why Thread Pool?</h3>

<p><a href="http://www.ibm.com/developerworks/library/j-jtp0730/">Many server applications</a>, such as <strong>Web servers (eg. Tomcat)</strong>, database servers, file servers, or mail servers must process a large number of tasks received from a network protocol. Often, the task is short-lived and the number of requests is large.</p>

<p><strong>Thread Pools are useful when you need to limit the number of threads</strong> running in your application at the same time.</p>

<h3>More details</h3>

<p>A thread pool is a group of pre-instantiated, idle threads which stand ready to be given work. These are preferred over instantiating new threads for each task when there is <strong>a large number of short tasks</strong> to be done <strong>rather than a small number of long ones</strong>.</p>

<p>Instead of starting a new thread for every task to execute concurrently, the <strong>task can be passed to a thread pool</strong>. As soon as the pool has any idle threads the task is assigned to one of them and executed.</p>

<p>Thread pools are often used in multi threaded servers. Each connection <strong>arriving at the server via the network is wrapped as a task</strong> and passed on to a thread pool. The threads in the thread pool will process the requests on the connections concurrently.</p>

<h3>Code</h3>

<p><strong>a <a href="http://tutorials.jenkov.com/java-concurrency/thread-pools.html">simple thread pool implementation</a></strong></p>

<p>Pool Class:</p>

<pre><code>public class ThreadPool {

  private BlockingQueue taskQueue = null;
  private List&lt;PoolThread&gt; threads = new ArrayList&lt;PoolThread&gt;();
  private boolean isStopped = false;

  public ThreadPool(int noOfThreads, int maxNoOfTasks){
    taskQueue = new BlockingQueue(maxNoOfTasks);

    for(int i=0; i&lt;noOfThreads; i++){
      threads.add(new PoolThread(taskQueue));
    }
    for(PoolThread thread : threads){
      thread.start();
    }
  }

  public void synchronized execute(Runnable task){
    if(this.isStopped) throw
      new IllegalStateException("ThreadPool is stopped");

    this.taskQueue.enqueue(task);
  }

  public synchronized void stop(){
    this.isStopped = true;
    for(PoolThread thread : threads){
      thread.stop();
    }
  }
}
</code></pre>

<p>Thread Class:</p>

<pre><code>public class PoolThread extends Thread {

  private BlockingQueue taskQueue = null;
  private boolean       isStopped = false;

  public PoolThread(BlockingQueue queue){
    taskQueue = queue;
  }

  public void run(){
    while(!isStopped()){
      try{
        Runnable runnable = (Runnable) taskQueue.dequeue();
        runnable.run();
      } catch(Exception e){
        //log or otherwise report exception,
        //but keep pool thread alive.
      }
    }
  }

  public synchronized void stop(){
    isStopped = true;
    this.interrupt(); //break pool thread out of dequeue() call.
  }

  public synchronized void isStopped(){
    return isStopped;
  }
}
</code></pre>

<p>An explanation:</p>

<blockquote><p>The thread pool implementation consists of two parts. A ThreadPool class which is the public interface to the thread pool, and a PoolThread class which implements the threads that execute the tasks.</p>

<p>To execute a task the method ThreadPool.execute(Runnable r) is called with a Runnable implementation as parameter. The Runnable is enqueued in the blocking queue internally, waiting to be dequeued.</p>

<p>The Runnable will be dequeued by an idle PoolThread and executed. You can see this in the PoolThread.run() method. After execution the PoolThread loops and tries to dequeue a task again, until stopped.</p>

<p>To stop the ThreadPool the method ThreadPool.stop() is called. The stop called is noted internally in the isStopped member. Then each thread in the pool is stopped by calling PoolThread.stop(). Notice how the execute() method will throw an IllegalStateException if execute() is called after stop() has been called.</p>

<p>The threads will stop after finishing any task they are currently executing. Notice the this.interrupt() call in PoolThread.stop(). This makes sure that a thread blocked in a wait() call inside the taskQueue.dequeue() call breaks out of the wait() call, and leaves the dequeue() method call with an InterruptedException thrown. This exception is caught in the PoolThread.run() method, reported, and then the isStopped variable is checked. Since isStopped is now true, the PoolThread.run() will exit and the thread dies.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/Producer-consumer-problem/">[Design] Producer Consumer Problem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Overview</h3>

<p>Producer-consumer problem illustrates the need for <strong>synchronization</strong> in systems where <strong>many processes share a resource</strong>.</p>

<p><a href="http://cs.gmu.edu/cne/modules/ipc/aqua/producer.html">In the problem</a>, two processes share a fixed-size buffer. One process produces information and puts it in the buffer, while the other process consumes information from the buffer. These processes do not take turns accessing the buffer, they both work concurrently.</p>

<h3>Inadequate Solution</h3>

<p><img class="middle" src="/assets/images/producer-workflow.gif"></p>

<p><img class="middle" src="/assets/images/consumer-workflow.gif"></p>

<p><strong>The code might look like this</strong>:</p>

<pre><code>BufferSize = 3;
  count = 0;

Producer()
{
    int widget;
    WHILE (true) {                   // loop forever
      make_new(widget);              // create a new widget to put in the buffer
      IF(count==BufferSize)
           Sleep();                  // if the buffer is full, sleep
      put_item(widget);              // put the item in the buffer
      count = count + 1;             // increment count of items
      IF (count==1)
         Wakeup(Consumer);           // if the buffer was previously empty, wake
   }                                 //  the consumer
}

Consumer()
{
    int widget;
    WHILE(true) {                    // loop forever
      IF(count==0)
           Sleep();                  // if the buffer is empty, sleep
      remove_item(widget);           // take an item from the buffer
      count = count + 1;             // decrement count of items
      IF(count==N-1)
            Wakeup(Producer);        // if buffer was previously full, wake
                                     //  the producer
      Consume_item(widget);          // consume the item
    }
}
</code></pre>

<p>This <a href="http://en.wikipedia.org/wiki/Producer%E2%80%93consumer_problem#Inadequate_implementation">will cause problems</a>, because <strong>it contains a race condition</strong> that can lead to a deadlock. Or in simply words, it has the potential of <a href="http://cs.gmu.edu/cne/modules/ipc/purple/prodsem.html">losing wakeups</a>.</p>

<p>An alternative analysis is that if the programming language does not define the semantics of <strong>concurrent accesses to shared variables (in this case itemCount)</strong> without use of synchronization, then the solution is unsatisfactory for that reason, without needing to explicitly demonstrate a race condition.</p>

<p>Solutions are: <strong>semaphores or monitors</strong>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/Max-sum-non-consecutive/">[Question] Max Sum of Non-Consecutive Elements</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://tech-queries.blogspot.sg/2009/05/max-possible-sum-of-non-consecutive.html">link</a></p>

<blockquote><p>There is an integer array consisting positive numbers only.</p>

<p>Find maximum possible sum of elements such that there are no 2 consecutive elements present in the sum.</p></blockquote>

<h3>Solution</h3>

<p>It&rsquo;s a little tricky to write the equation. Always remember the <strong>basic principle of DP</strong> is to assume that solution is found for (i -1), and then we calculate solution for input (i).</p>

<p><strong>Don&rsquo;t miss the (i-1) part</strong>.</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<pre><code>public int maxSumNonConsec(int[] input) {
    int len = input.length;
    int[] dp = new int[len];
    dp[0] = input[0];
    dp[1] = Math.max(input[0], input[1]);
    for (int i = 2; i &lt; len; i++) {
        dp[i] = Math.max(dp[i - 1], input[i] + dp[i - 2]);
    }
    return dp[len - 1];
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/Decimal-to-Hex/">[Question] Decimal to Hexadecimal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://stackoverflow.com/questions/13465098/decimal-to-hexadecimal-converter-in-java">link</a></p>

<blockquote><p>Decimal to Hexadecimal conversion.</p></blockquote>

<h3>Solution</h3>

<p>Convert binary to hex as a group of 4 bits.</p>

<p>Read code.</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<pre><code>private final char[] hexDigits = { '0', '1', '2', '3', '4', '5', '6', '7',
        '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };
private final int flag = 0x0F;

public String decToHex(int dec) {
    char[] hex = new char[8];
    for (int i = 7; i &gt;= 0; i--) {
        int oneDigit = flag &amp; dec;
        dec &gt;&gt;= 4;
        hex[i] = hexDigits[oneDigit];
    }
    return String.valueOf(hex);
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/Memory-related-debugging-problem/">[Question] Memory-related Debugging Problem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://stackoverflow.com/questions/4531742/debugging-a-program-that-crashes-10-times-in-different-places">link</a></p>

<blockquote><p>You are given the source to an application which is crashing during run time. After running it 10 times in a debugger, you find it never crashes in the same place.</p>

<p>What programming errors could be causing this crash? How would you test each one?</p></blockquote>

<h3>Analysis</h3>

<ol>
<li><p>code depends on timer/RNG</p></li>
<li><p>disk full, i.e. other processes may delete a different file causing more space to be available</p></li>
<li><p>memory issue, i.e. other processes allocate and/or free memory</p></li>
<li><p>a pointer points to a random location in memory that is changed by another process causing some values be &ldquo;valid&rdquo; (very rare though)</p></li>
</ol>


<p><a href="http://stackoverflow.com/a/4531769">In general</a> a situation with other process is likely.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/Distributed-network-bottleneck/">[Design] Distributed Network Bottleneck</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Question</h2>

<p><a href="http://www.mitbbs.com/article_t/JobHunting/32702821.html">link</a></p>

<blockquote><p>一个distributed的环境，有很多机器，现在你发现性能有问题，可能是网络带宽造成的，你怎么解决？ (你不能更换网络设备的前提下)</p></blockquote>

<h3>Answer</h3>

<ol>
<li>Identify problem</li>
</ol>


<p>首先得判定是否真的是网络造成的，就算是网络问题，哪些机器之间的网络问题？ 这个得先大概了解high level component dependency relationship，</p>

<p>看看是不是cpu memory disk都没有问题。 可以profile几个机器看看是不是 a lot of time spent waiting for network calls.</p>

<ol>
<li>Locate the faulty component</li>
</ol>


<p>判定是网络问题之后看是哪些components之间，或是某个component里面有很多网络通讯。</p>

<ol>
<li>Improvement</li>
</ol>


<p>不能更换设备的话，能不能改network topology来让critical path machine之间的带宽有改善。</p>

<p>要是不能改topology就只能改程序了。还是先identify top offender,然后就只能慢慢改了</p>

<ol>
<li>What&rsquo;s more</li>
</ol>


<p>要还有时间的话就可以聊聊问啥不能换设备，是资金问题还是用的已经是top of the line了？</p>

<p>或者是在public cloud上？</p>

<p>Answer suggested by user <strong>remus</strong>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/06/Postorder-successor-Binary-Tree/">[Google] Postorder Successor in Binary Tree</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<p><a href="http://www.careercup.com/question?id=5173972006076416">link</a></p>

<blockquote><p>Write an algorithm to find the ‘next’ post-order successor of a given node in a binary tree and binary search tree.</p>

<ol>
<li>where each node has a link to its parent.</li>
<li>without parent pointer</li>
</ol>


<p>Implement 2 versions of the algorithm: 1.) binary tree 2.) BST</p></blockquote>

<h3>Solution</h3>

<p>In postorder, any node below current node shall be &lsquo;predecessor&rsquo; of current node. Thus we only care about current node&rsquo;s parent.</p>

<p>Suggested by a user:</p>

<pre><code>1) parent pointer is given. 
- go to the parent of the current node. 
- if current node is the right child of its parent =&gt; print parent. 
- else return leftmost node of the right sub-tree of parent. 

2) parent pointer is not given. 
- traverse the tree and find the parent of the current node 
- do the same as method (1). 
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/06/Networks-and-TCP-IP/">[Design] Networks and TCP/IP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Overview</h2>

<p><strong><a href="http://en.wikipedia.org/wiki/Internet_protocol_suite">Internet protocol suite</a></strong> is a networking model and communications protocols used by the Internet. It is commonly known as <strong>TCP/IP</strong>.</p>

<p>Four abstraction layers:</p>

<ol>
<li>Application layer</li>
<li>Transport layer</li>
<li>Internet layer</li>
<li>Link layer</li>
</ol>


<p><img class="middle" src="/assets/images/network-layers-connected.png"></p>

<p>The protocols are maintained by the <strong>Internet Engineering Task Force</strong> (IETF).</p>

<h3>A summary of four-layer model</h3>

<ol>
<li>Application: authentication, compression, and end user services</li>
<li>Transport: handles the flow of data between systems and provides access to the network for applications via the BSD socket library</li>
<li>Network: packet routing</li>
<li>Link: Kernel OS/device driver interface to the network interface on the computer.</li>
</ol>


<p><a href="http://searchnetworking.techtarget.com/news/851291/TCP-Internet-Protocol-and-OSI">source</a></p>

<h3>More details</h3>

<p><strong>The Application layer</strong>:</p>

<ol>
<li>where applications create user data and communicate with other applications on another host (make use of Transport Layer to provide reliable or unreliable pipes to other processes).</li>
<li>different application architecture, such as the client-server model and peer-to-peer.</li>
<li>SMTP, FTP, SSH, HTTP all operate above this layer.</li>
<li>processes are addressed via ports.</li>
</ol>


<p><img class="middle" src="/assets/images/network-ports.gif"></p>

<blockquote><p>Well-known official port numbers are in the range of 0 &ndash; 255. Port 256 &ndash; 1023 are reserved for other well-known services. 1024 &ndash; 65535 are neither in-use nor reserved. They are used when TCP/IP automatically assigns port numbers to client programs.</p></blockquote>

<p><strong>The Transport Layer</strong>:</p>

<ol>
<li>performs host-to-host communications.</li>
<li>&ldquo;UDP&rdquo; provides unreliable datagram service.</li>
<li>&ldquo;<strong>Transmission Control Protocol</strong>&rdquo; provides flow-control, connection establishment, and reliable transmission of data.</li>
</ol>


<p><strong>The Internet layer</strong>:</p>

<ol>
<li>exchange datagrams across network boundaries.</li>
<li>establishes internetworking thus establishes the Internet.</li>
<li>&ldquo;<strong>Internet Protocol</strong>&rdquo;, defines IP addresses and the routing structures used for the TCP/IP protocol suite.</li>
<li>routing: transport datagrams to the next IP router that has the connectivity to a network closer to the final data destination.</li>
</ol>


<p><strong>The Link layer</strong>:</p>

<ol>
<li>defines the networking methods within local network link without intervening routers.</li>
<li>describe local network topology and the interfaces needed to effect transmission of Internet layer datagrams to next-neighbor hosts.</li>
</ol>


<h3>Difference from OSI</h3>

<p>The Internet protocol suite was in use <strong>before the OSI model</strong>, and is well established worldwide.</p>

<p><a href="http://electronicdesign.com/what-s-difference-between/what-s-difference-between-osi-seven-layer-network-model-and-tcpip">The OSI model</a>, however, is a proven concept that is used in all other data communications protocols. It will continue to be used as a guideline for all other communications applications.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/06/Leetcode-second-two/">[Leetcode] Leetcode Second Round 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>2.2 questionlist</h3>

<ol>
<li>Integer to Roman</li>
<li>Surrounded Regions &ndash; minimize stack usage</li>
</ol>


<h3>Question List</h3>

<ol>
<li>Longest Palindromic Substring</li>
<li>Rotate List</li>
<li>Remove Duplicates from Sorted Array</li>
<li>Validate Binary Search Tree &ndash; use intervals</li>
<li>Gray Code</li>
<li>Combination Sum II</li>
<li>Add Binary</li>
<li>Merge Intervals</li>
<li>Scramble String</li>
<li>Remove Duplicates from Sorted Array II</li>
<li>Generate Parentheses</li>
<li>Permutation Sequence</li>
<li>Substring with Concatenation of All Words</li>
<li>String to Integer (atoi)</li>
</ol>


<h3>Difficult</h3>

<ol>
<li>Gas Station</li>
<li>Reverse Words in a String</li>
<li>Word Search</li>
<li>Container With Most Water</li>
<li>First Missing Positive &ndash; note there&rsquo;s 1 special case</li>
<li>Sort List</li>
<li>Anagrams</li>
<li>Merge k Sorted Lists &ndash; very difficult</li>
<li>Permutations II &ndash; use different DS for flagging elements</li>
<li>Palindrome Partitioning II</li>
<li>Word Ladder</li>
<li>Largest Rectangle in Histogram</li>
<li>Minimum Window Substring &ndash; difficult</li>
<li>Longest Valid Parentheses &ndash; difficult</li>
<li>Median of Two Sorted Arrays &ndash; difficult</li>
<li>Regular Expression Matching</li>
<li>Wildcard Matching</li>
</ol>


<h3>Special</h3>

<ol>
<li><p>water, rain and histogram etc.</p></li>
<li><p>word and string-related</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/06/HTTP-headers/">[Design] HTTP Headers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Overview</h2>

<p><strong>HTTP is an Application Layer protocol</strong> which stands for &ldquo;Hypertext Transfer Protocol&rdquo;. The entire World Wide Web uses it.</p>

<p>There&rsquo;re <strong><a href="http://www.differencebetween.net/technology/internet/difference-between-tcp-and-http/">a series of sessions</a></strong> in HTTP where client sends a request and server sends a reply message back to client including the request, an error message, or another piece of information.</p>

<p><a href="http://code.tutsplus.com/tutorials/http-headers-for-dummies--net-8039">HTTP headers</a> are the core part of these HTTP requests and responses, and they carry information about the client browser, the requested page, the server and more.</p>

<h3>Example HTTP request</h3>

<pre><code>GET /tutorials/other/top-20-mysql-best-practices/ HTTP/1.1
Host: net.tutsplus.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 (.NET CLR 3.5.30729)
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-us,en;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Cookie: PHPSESSID=r2t5uvjq435r4q7ib3vtdjq120
Pragma: no-cache
Cache-Control: no-cache
</code></pre>

<h3>Example HTTP response</h3>

<pre><code>HTTP/1.x 200 OK
Transfer-Encoding: chunked
Date: Sat, 28 Nov 2009 04:36:25 GMT
Server: LiteSpeed
Connection: close
X-Powered-By: W3 Total Cache/0.8
Pragma: public
Expires: Sat, 28 Nov 2009 05:36:25 GMT
Etag: "pub1259380237;gz"
Cache-Control: max-age=3600, public
Content-Type: text/html; charset=UTF-8
Last-Modified: Sat, 28 Nov 2009 03:50:37 GMT
X-Pingback: http://net.tutsplus.com/xmlrpc.php
Content-Encoding: gzip
Vary: Accept-Encoding, Cookie, User-Agent

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;Top 20+ MySQL Best Practices - Nettuts+&lt;/title&gt;
&lt;!-- ... rest of the html ... --&gt;
</code></pre>

<p>These HTTP requests are also sent and received for other things, such as images, CSS files, JavaScript files etc. That is why browser may send 40 or more HTTP requests for 1 article page.</p>

<h3>Request Methods</h3>

<p>The three most commonly used request methods are: GET, POST and HEAD.</p>

<h4>GET: Retrieve a Document</h4>

<p>Get an article site:</p>

<pre><code>GET /tutorials/other/top-20-mysql-best-practices/ HTTP/1.1
</code></pre>

<p>Submit a form information:</p>

<pre><code>GET /foo.php?first_name=John&amp;last_name=Doe&amp;action=Submit HTTP/1.1
</code></pre>

<p>Each input is added in the <strong>query string</strong>.</p>

<h4>POST: Send Data to the Server</h4>

<p>Even though you can send data to the server using GET and the query string, <strong>in many cases POST will be preferable</strong>. Sending large amounts of data using GET is not practical and has limitations.</p>

<pre><code>POST /foo.php HTTP/1.1
Host: localhost
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 (.NET CLR 3.5.30729)
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-us,en;q=0.5
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive
Referer: http://localhost/test.php
Content-Type: application/x-www-form-urlencoded
Content-Length: 43

first_name=John&amp;last_name=Doe&amp;action=Submit
</code></pre>

<p>The header contains no query string no more. The last line (data) is the query string.</p>

<h4>HEAD: Retrieve Header Information</h4>

<p>HEAD is identical to GET, except the server does not return the content in the HTTP response. It&rsquo;s faster than GET.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150/'>cc150 (1)</a></li>
<li class='category'><a href='/blog/categories/collection/'>collection (5)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (25)</a></li>
<li class='category'><a href='/blog/categories/google/'>google (15)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (154)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (15)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (68)</a></li>
<li class='category'><a href='/blog/categories/thoughts/'>thoughts (4)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/08/08/Thread-pool-pattern/">[Design] Thread Pool Pattern</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/08/Producer-consumer-problem/">[Design] Producer Consumer Problem</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/08/Max-sum-non-consecutive/">[Question] Max Sum of Non-Consecutive Elements</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/08/Decimal-to-Hex/">[Question] Decimal to Hexadecimal</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/07/Memory-related-debugging-problem/">[Question] Memory-related Debugging Problem</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
