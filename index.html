
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Woodstock Blog</title>
  <meta name="author" content="Charlie Brown">

  
  <meta name="description" content="Question How would you load test a webpage without using any test tools? Solution
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://okckd.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Woodstock Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Woodstock Blog</a></h1>
  
    <h2>What's the good of living if you don't try a few things?</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:okckd.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/08/test-webpage-without-tool/">[CC150v4] 11.4 Test Webpage Without Tools (`)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>How would you load test a webpage without using any test tools?</p></blockquote>

<h3>Solution</h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/08/random-error-debugging-2/">[CC150v4] 11.2 Random Error Debugging 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>You are given the source to an application which crashes when it is run After running it ten times in a debugger, you find it never crashes in the same place The application is single threaded, and uses only the C standard library What programming errors could be causing this crash? How would you test each one?</p></blockquote>

<h3>Solution</h3>

<p>This question is from CC150v4, but my previous post <strong>[Testing] Random error debugging 1</strong> already covered this question.</p>

<p>Again, the answer is very similar:</p>

<ol>
<li>Depends on random variable

<ol>
<li>RNG</li>
<li>depends on user input</li>
<li>depends on system date/time</li>
</ol>
</li>
<li>Memory Leak

<ol>
<li>out of RAM</li>
<li>heap overflow</li>
<li>stack data corruption</li>
</ol>
</li>
<li>System Dependency

<ol>
<li>depends on external module</li>
<li>depends on some system attributed that&rsquo;s being modified by another application (this is especially for hardware-facing applications)</li>
</ol>
</li>
</ol>


<p>In general, <strong>Web server is more prone to Memory Leak</strong>, and program that runs <strong>close to system level</strong> is more prone to system dependency errors.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/08/implement-math-operators/">[CC150v4] 10.4 Implement Mathematical Operators</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>Write a method to implement *, &ndash; , / operations You should use only the + operator.</p></blockquote>

<h3>Solution</h3>

<p><strong>First it&rsquo;s important to write a &lsquo;negate&rsquo; operator</strong>. This is used in all other operations.</p>

<pre><code>public static int FnNegate(int a) {
    int neg = 0;
    int d = a &lt; 0 ? 1 : -1;
    while (a != 0) {
        neg += d;
        a += d;
    }
    return neg;
}
</code></pre>

<p>Although we can only use +, the author also used > and &lt; comparison operators.</p>

<p>This is a borning question, I did not write code myself.</p>

<h3>Code</h3>

<p><strong>not written by me</strong></p>

<pre><code>/* Flip a positive sign to negative, or a negative sign to pos */
public static int FnNegate(int a) {
    int neg = 0;
    int d = a &lt; 0 ? 1 : -1;
    while (a != 0) {
        neg += d;
        a += d;
    }
    return neg;
}

/* Subtract two numbers by negating b and adding them */
public static int FnMinus(int a, int b) {
    return a + FnNegate(b);
}

/* Check if a and b are different signs */
public static boolean DifferentSigns(int a, int b) {
    return ((a &lt; 0 &amp;&amp; b &gt; 0) || (a &gt; 0 &amp;&amp; b &lt; 0)) ? true : false;
}

/* Return absolute value */
public static int abs(int a) {
    if (a &lt; 0)
        return FnNegate(a);
    else
        return a;
}

/* Multiply a by b by adding a to itself b times */
public static int FnTimes(int a, int b) {
    if (a &lt; b)
        return FnTimes(b, a); // algo is faster if b &lt; a
    int sum = 0;
    for (int iter = abs(b); iter &gt; 0; --iter)
        sum += a;
    if (b &lt; 0)
        sum = FnNegate(sum);
    return sum;
}

// returns 1, if a/b &gt;= 0.5, and 0 otherwise
public static int DefineAndRoundFraction(int a, int b) {
    if (FnTimes(abs(a), 2) &gt;= abs(b))
        return 1;
    else
        return 0;
}

/*
 * Divide a by b by literally counting how many times does b go into a. That
 * is, count how many times you can subtract b from a until you hit 0.
 */
public static int FnDivide(int a, int b)
        throws java.lang.ArithmeticException {
    if (b == 0) {
        throw new java.lang.ArithmeticException("ERROR: Divide by zero.");
    }
    int quotient = 0;
    int divisor = FnNegate(abs(b));
    int divend; /* dividend */
    for (divend = abs(a); divend &gt;= abs(divisor); divend += divisor) {
        ++quotient;
    }
    if (DifferentSigns(a, b))
        quotient = FnNegate(quotient);
    return quotient;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/08/find-coliner-in-2d-plane/">[CC150v4] 10.6 Find Collinear in 2D Plane (`)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>Given a two dimensional graph with points on it, find a line which passes the most number of points.</p></blockquote>

<h3>Solution</h3>

<h3>Code</h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/sort-persons/">[CC150v4] Chap9 Example - Sort Persons</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>You have a very large array of ‘Person’ objects. Sort the people in increasing order of age.</p></blockquote>

<h3>Solution</h3>

<p>First we look at the nature of this question:</p>

<ol>
<li>large input array</li>
<li>sort based on age (<strong>which is between 1 and 100</strong>, this is important)</li>
</ol>


<p><strong>This exactly matches the charasteristics of Bucket Sort</strong>. Time complexity in average case is O(n + k) where k is the number of buckets.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/search-array-containing-empty-string/">[CC150v4] 9.5 Search Array Containing Empty String</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>Given a sorted array of strings which is interspersed with empty strings, write a method to find the location of a given string.</p>

<p>Example: find “ball” in [“at”, “”, “”, “”, “ball”, “”, “”, “car”, “”, “”, “dad”, “”, “”] will return 4</p>

<p>Example: find “ballcar” in [“at”, “”, “”, “”, “”, “ball”, “car”, “”, “”, “dad”, “”, “”] will return -1</p></blockquote>

<h3>Solution</h3>

<p>The solution is binary search, but when reads empty, <strong>advance to the next non-empty string</strong>.</p>

<p>But wait, <strong>there can be a very big problem that causes looping forever</strong>. Eg.</p>

<blockquote><p>&ldquo;a&rdquo;, &ldquo;&rdquo;, &ldquo;&rdquo;, &ldquo;&rdquo;, &ldquo;c&rdquo; (5 items), look for &ldquo;b&rdquo;</p>

<p>Now &lsquo;left&rsquo; points to 1st string(&ldquo;a&rdquo;) and &lsquo;right&rsquo; points to 4th(&ldquo;&rdquo;). If we read read &lsquo;mid&rsquo; value and advance to the next non-empty string, it&rsquo;ll be &ldquo;c&rdquo;.</p>

<p>since &ldquo;c&rdquo; is large than &ldquo;b&rdquo;, &lsquo;right&rsquo; is set to the 4th index. It&rsquo;s a endless loop!</p></blockquote>

<p>There&rsquo;re various ways to solve this. The book suggests</p>

<p>My approach is to use 2 instances of &lsquo;mid&rsquo;:</p>

<ol>
<li>calculatedMid</li>
<li>comparisonMid</li>
</ol>


<h3>Code</h3>

<pre><code>public static int search(String[] input, String target) {
    if (target == null || target.length() == 0) {
        return -1;
    }
    int len = input.length;
    int left = 0, right = len - 1;
    while (left &lt; right) {
        int calculatedMid = left + (right - left) / 2;
        int comparisonMid = calculatedMid;
        while (comparisonMid &lt; len &amp;&amp; input[comparisonMid].length() == 0) {
            comparisonMid++;
        }
        if (input[comparisonMid].equals(target)) {
            return comparisonMid;
        } else if (input[comparisonMid].compareTo(target) &lt; 0) {
            left = comparisonMid + 1;
        } else {
            right = calculatedMid - 1;
        }
    }
    if (left &lt; len &amp;&amp; input[left].equals(target)) {
        return left;
    } else {
        return -1;
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/generate-permutation-recursively/">[CC150v4] 8.4 Generate Permutation Recursively</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>Write a method to compute all permutations of a string.</p>

<p>Do it recursively.</p></blockquote>

<h3>Solution</h3>

<ol>
<li><p>Get first char.</p></li>
<li><p>Permute the reminder of the string.</p></li>
<li><p>Insert that char into all possible positions.</p></li>
</ol>


<p>The code is more concise that doing it iteratively, <strong>and no visited array needed</strong>!</p>

<h3>Code</h3>

<pre><code>public static ArrayList&lt;String&gt; getPerms(String s) {
    ArrayList&lt;String&gt; ans = new ArrayList&lt;String&gt;();
    if (s.length() == 1) {
        ans.add(s);
        return ans;
    }
    char single = s.charAt(0);
    ArrayList&lt;String&gt; partialPerms = getPerms(s.substring(1));
    for (String part : partialPerms) {
        for (int i = 0; i &lt;= part.length(); i++) {
            ans.add(part.substring(0, i) + single + part.substring(i));
        }
    }
    return ans;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/find-missing-number/">[CC150v4] 5.7 Find Missing Number</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>An array A[1&hellip;n] contains all the integers from 0 to n except for one number which is missing. In this problem, we cannot access an entire integer in A with a single operation.</p>

<p>The elements of A are represented in binary, and the only operation we can use to access them is “fetch the jth bit of A[i]”, which takes constant time. Write code to find the missing integer. Can you do it in O(n) time?</p></blockquote>

<h3>Solution</h3>

<p><strong>This is a difficult bit operation question</strong>.</p>

<p>The main thing to understand is, for a particular bit:</p>

<blockquote><p>if the bit value of the removed number is 0, then count(0) &lt;= count(1)</p>

<p>if the bit value of the removed number is 1, then count(0) > count(1)</p></blockquote>

<p>By using this principle, we can easily find the missing value for each bit.</p>

<p><strong>However, we must know when to stop checking</strong>. For example:</p>

<blockquote><p>input: 000, 001, 011</p></blockquote>

<p>We know that the last bit is 0, second last is 1. We shall stop here and return the result &ldquo;010&rdquo;. If we did not stop, the result value would be &ldquo;110&rdquo;, which is wrong. How this is handled is by <strong>passing only half of the input list each time</strong>, and we also add one condition at the beginning:</p>

<pre><code>if (list.size() == 0)
    return 0;
</code></pre>

<p>By doing this, we always limit the input list to a smaller range, until we finish finding all bits.</p>

<h3>Code</h3>

<p><strong>hard to write</strong></p>

<pre><code>public static int findMissing(List&lt;BitInteger&gt; list) {
    return helper(list, BitInteger.INTEGER_SIZE - 1);
}

private static int helper(List&lt;BitInteger&gt; list, int col) {
    if (list.size() == 0)
        return 0;
    List&lt;BitInteger&gt; zeroList = new ArrayList&lt;BitInteger&gt;();
    List&lt;BitInteger&gt; oneList = new ArrayList&lt;BitInteger&gt;();
    for (BitInteger bit : list) {
        if (bit.fetch(col) == 0) {
            zeroList.add(bit);
        } else {
            oneList.add(bit);
        }
    }
    if (zeroList.size() &lt;= oneList.size()) {
        // this means the missing value contains a 0
        return helper(zeroList, col - 1) &lt;&lt; 1;
    } else {
        // the missing value contains 1
        return helper(oneList, col - 1) &lt;&lt; 1 | 1;
    }
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/cover-the-chess-board/">[CC150v4] 6.2 Cover the Chess Board</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>There is an 8x8 chess board in which two diagonally opposite squares have been cut off. You are given 31 dominos, and a single domino can cover exactly two squares.</p>

<p>Can you use the 31 dominos to cover the entire board? Prove your answer (by providing an example, or showing why it’s impossible).</p></blockquote>

<h3>Solution</h3>

<p>The chess board initially has 32 black and 32 white squares. By removing opposite corners, we&rsquo;re left with 30 of one color and 32 of the other color.</p>

<p>31 dominos must cover 31 of one color and 31 of the other color.</p>

<p>So, impossible.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/07/convert-integer-to-binary/">[CC150v4] 5.2 Convert Integer to Binary Form</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Question</h3>

<blockquote><p>Given a (decimal &ndash; e.g. 3.72) number that is passed in as a string, print the binary representation.</p>

<p>If the number can not be represented accurately in binary, print “ERROR”</p></blockquote>

<h3>Solution</h3>

<p>Convert the integer part is easy.</p>

<p><strong>The difficulty is how to convert a floating point (the decimal part) to binary form</strong>. The idea suggested in the book is to keep x2, and subtract 1 when necessary. Eg.</p>

<blockquote><p>0.625 x 2 = 1.25, append 1</p>

<p>0.25 x 2 = 0.5, append 0</p>

<p>0.5 x 2 = 1, append 1</p>

<p>the binary form of 0.625 would be 0.101.</p></blockquote>

<p>We must declarify the max number of digits in the decimal part. In the book, <strong>the answer assumes a maximum digits of 32 bits</strong> (i.e. when binary length grows more than 32 bits, return &ldquo;Error&rdquo;).</p>

<h3>Code</h3>

<p><strong>written by me</strong></p>

<pre><code>public static String printBinary(String n) {
    String[] num = n.split("\\.");
    int integer = Integer.parseInt(num[0]);
    double decimal = Double.parseDouble("0." + num[1]);

    // now convert decimal part, if can't convert, return ERROR
    StringBuilder sb = new StringBuilder();
    while (decimal != 0) {
        if (sb.length() &gt; 32) {
            return "ERROR";
        }
        double newDoub = 2 * decimal;
        sb.append(newDoub &gt;= 1 ? "1" : "0");
        decimal = newDoub % 1;
    }

    // now convert integer part
    String intStr = "";
    while (integer != 0) {
        intStr = ((integer &amp; 1) == 1 ? "1" : "0") + intStr;
        integer = integer &gt;&gt; 1;
    }

    // return the 2 parts connected with a dot
    return intStr + "." + sb.toString();
}
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="well">
  <h1>Categories</h1>
  <ul id="categories" class="nav nav-list">
    <li class='category'><a href='/blog/categories/cc150v4/'>cc150v4 (19)</a></li>
<li class='category'><a href='/blog/categories/cc150v5/'>cc150v5 (8)</a></li>
<li class='category'><a href='/blog/categories/classic/'>classic (3)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (51)</a></li>
<li class='category'><a href='/blog/categories/facebook/'>facebook (4)</a></li>
<li class='category'><a href='/blog/categories/google/'>google (31)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (155)</a></li>
<li class='category'><a href='/blog/categories/leetcode-plus/'>leetcode_plus (9)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (11)</a></li>
<li class='category'><a href='/blog/categories/ninechap/'>ninechap (15)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (1)</a></li>
<li class='category'><a href='/blog/categories/question/'>question (84)</a></li>
<li class='category'><a href='/blog/categories/testing/'>testing (5)</a></li>
<li class='category'><a href='/blog/categories/thoughts/'>thoughts (7)</a></li>
<li class='category'><a href='/blog/categories/twitter/'>twitter (3)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/08/test-webpage-without-tool/">[CC150v4] 11.4 Test Webpage Without Tools (`)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/08/random-error-debugging-2/">[CC150v4] 11.2 Random Error Debugging 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/08/implement-math-operators/">[CC150v4] 10.4 Implement Mathematical Operators</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/08/find-coliner-in-2d-plane/">[CC150v4] 10.6 Find Collinear in 2D Plane (`)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/07/sort-persons/">[CC150v4] Chap9 Example - Sort Persons</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Charlie Brown -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
