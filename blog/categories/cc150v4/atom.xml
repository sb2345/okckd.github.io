<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Cc150v4 | Woodstock Blog]]></title>
  <link href="http://okckd.github.io/blog/categories/cc150v4/atom.xml" rel="self"/>
  <link href="http://okckd.github.io/"/>
  <updated>2014-09-10T15:36:02+08:00</updated>
  <id>http://okckd.github.io/</id>
  <author>
    <name><![CDATA[Charlie Brown]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[CC150v4] 20.3 Generate M Int From Array of Size N]]></title>
    <link href="http://okckd.github.io/blog/2014/09/10/generate-m-from-array-of-n/"/>
    <updated>2014-09-10T00:00:00+08:00</updated>
    <id>http://okckd.github.io/blog/2014/09/10/generate-m-from-array-of-n</id>
    <content type="html"><![CDATA[### Question

> Write a method to randomly generate a set of m integers from an array of size n. Each element must have equal probability of being chosen. 

### Solution

This is very similar to another post I wrote: __[Question] Shuffle An Array (Fisher–Yates)__.

The basic idea is to choose element one by one using RNG. After choosing an int, swap it to top and __then mark this element as 'dead'__. Next time, the RNG will not touch on the 'dead' elements. 

__Very similar to Fisher–Yates Shuffle__, and the code below is written by me. 

### Code

	public static int[] pickMRandomly(int[] original, int m) {
		int[] ans = new int[m];
		for (int i = 0; i < m; i++) {
			int rand = Question.listRand.get(i);
			// note: rand is RN in the range [i, max]
			ans[i] = original[rand];
			original[rand] = original[i];
			// now (i)th position in original is dead
			// no one cares what value is at original[i]
		}
		return ans;
	}
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[CC150v4] 20.4 Count 2s in Digits]]></title>
    <link href="http://okckd.github.io/blog/2014/09/10/count-2s-in-digits/"/>
    <updated>2014-09-10T00:00:00+08:00</updated>
    <id>http://okckd.github.io/blog/2014/09/10/count-2s-in-digits</id>
    <content type="html"><![CDATA[### Question

> Write a method to count the number of 2s between 0 and n.

### Solution

__This is a difficult question__, especially hard to come up with the correct formula. Eg. 

> f(279) = {(79 + 1) + 2 * f(99)} + f(79)
>
> f(513) = {100 + 5 * f(99)} + f(13)

Take 513 as example, the first digit is 5. We know that all the 200+ is within the range, so __there're 100 twos in the first digit__. Then, for the rest of the digits, we get f(99) for number between 0 and 99, and another f(99) for number between 100 and 199... and __this happens 5 times until 499__. That's why we have 5 multiple by f(99). 

In the end, we do the calculation __recursively for reminder number 13__. 

### Code

	public static int myAnswer(int n) {
		if (n == 0)
			return 0;
		int power = 1;
		while (power * 10 <= n) {
			power *= 10;
		}

		int first = n / power;
		int reminder = n % power;
		int firstDigit2count = 0;
		if (first > 2) {
			firstDigit2count = power;
		} else if (first == 2) {
			firstDigit2count = reminder + 1;
		}
		int totalCountBeforeReminder = firstDigit2count
				+ (first * myAnswer(power - 1));
		return totalCountBeforeReminder + myAnswer(reminder);
	}
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[CC150v4] 19.4 Get Max Number With >, < Operator]]></title>
    <link href="http://okckd.github.io/blog/2014/09/09/get-max-without-comparison-operator/"/>
    <updated>2014-09-09T00:00:00+08:00</updated>
    <id>http://okckd.github.io/blog/2014/09/09/get-max-without-comparison-operator</id>
    <content type="html"><![CDATA[### Question

> Write a method which finds the maximum of two numbers. You should not use if-else or any other comparison operator.

> EXAMPLE
>
> Input: 5, 10
>
> Output: 10

### Solution

We can't use >, < or if-else statement, but we can use mathematical operator like subtract and bit operators. 

Calculate (a-b) and do (a + K(a-b)) can help us (where K is either 0 or -1). 

### Code

	public static int getMax(int a, int b) {
		int c = a - b;
		int signBit = c >> 31 & 1;
		// if (a-b) is negative, sign = 1
		// otherwise, sign = 0
		return a - signBit * c;
	}
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[CC150v4] 19.6 Convert Integer to English]]></title>
    <link href="http://okckd.github.io/blog/2014/09/09/convert-int-to-english/"/>
    <updated>2014-09-09T00:00:00+08:00</updated>
    <id>http://okckd.github.io/blog/2014/09/09/convert-int-to-english</id>
    <content type="html"><![CDATA[### Question

> Given an integer between 0 and 999,999, print an English phrase that describes the integer (eg, “One Thousand, Two Hundred Thirty Four”).

### Solution

The solution in book isn't good, so I wrote the code myself. 

Read it below. 

### Code

	private static String[] arr1 = { "Zero ", "One ", "Two ", "Three ",
			"Four ", "Five ", "Six ", "Seven ", "Eight ", "Nine " };

	private static String[] arr11 = { "Ten ", "Eleven ", "Twelve ",
			"Thirteen ", "Fourteen ", "Fifteen ", "Sixteen ", "Seventeen ",
			"Eighteen ", "Nineteen " };

	private static String[] arr10 = { "", "Ten ", "Twenty ", "Thirty ",
			"Forty ", "Fifty ", "Sixty ", "Seventy ", "Eighty ", "Ninety " };

	public static String numtostring(int num) {
		int part1 = num / 1000;
		int part2 = num % 1000;
		if (part1 == 0) {
			return numBelowTrousand(part2);
		} else {
			return numBelowTrousand(part1) + "Thousand, "
					+ numBelowTrousand(part2);
		}
	}

	public static String numBelowTrousand(int num) {
		StringBuilder sb = new StringBuilder();
		// assume num is below 1000

		// first, convert hundred digit
		int hundred = num / 100;
		if (hundred != 0) {
			sb.append(arr1[hundred] + "Hundred ");
		}

		// second, convert the rest of digits
		num %= 100;
		if (num != 0) {
			int ten = num / 10;
			int one = num % 10;
			if (ten == 1) {
				sb.append(arr11[num - 10]);
			} else {
				if (ten != 0) {
					// ten is in the range of [2,9]
					sb.append(arr10[ten]);
				}
				if (one != 0) {
					sb.append(arr1[one]);
				}
			}
		}
		return sb.toString();
	}
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[CC150v4] 11.4 Test Webpage Without Tools]]></title>
    <link href="http://okckd.github.io/blog/2014/09/08/test-webpage-without-tool/"/>
    <updated>2014-09-08T00:00:00+08:00</updated>
    <id>http://okckd.github.io/blog/2014/09/08/test-webpage-without-tool</id>
    <content type="html"><![CDATA[### Question

> How would you load test a webpage without using any test tools?

### Solution

#### Load testing

__[Load testing](http://en.wikipedia.org/wiki/Load_testing)__ is testing under normal and peak load condition. It's also called software performance testing, reliability testing, and volume testing.

#### Steps

__First identify the performance-critical scenarios__, which might include: 

1. response time
1. throughput
1. resource utilization
1. max load that system can bear

__Then, design tests to simulate the load__: we can create virtual users by a multi-threaded program with 1000 thread, each acting as a user loading the page. We measure response time of each user. 
]]></content>
  </entry>
  
</feed>
