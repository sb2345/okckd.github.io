<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<title>[LeetCode Plus] Coins in a Line  - Woodstock Blog</title>
		<meta name="author" content="Charlie Brown">
		
		<meta name="description" content="Question link There are n coins in a line. Two players take turns to take a coin from one of the ends of the line until there are no more coins left &hellip;">
    	
    	<meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">
    
		<link href="/atom.xml" rel="alternate" title="Woodstock Blog" type="application/atom+xml">
	    <link href="/favicon.png" rel="shortcut icon">
	    <link rel="canonical" href="">
		<link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
		<link rel="stylesheet" type="text/css" href="/stylesheets/syntax.css" />
		<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
		
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52495723-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


	</head>

	<body>
		<div id="logo">
	<span id="tags"> 编程 / 思考 / 阅读 / 生活 </span>
	<h1><a href="/">Woodstock Blog</a></h1>
</div>
		<div id="wrapper">
			<div id="content">
				<a target="_blank" style="float:right;margin-top:15px" href="http://twitter.com/share?url=http://blog.libingcun.com/blog/2014/07/27/Coins-in-Line/&via=libingcun&text=[LeetCode Plus] Coins in a Line "><span class="balloon">retweet</span></a>
				<h2>[LeetCode Plus] Coins in a Line </h2>
				<div class="cnt">
					<h3>Question</h3>

<p><a href="http://leetcode.com/2011/02/coins-in-line.html">link</a></p>

<blockquote><p>There are n coins in a line. Two players take turns to take a coin from one of the ends of the line until there are no more coins left. The player with the larger amount of money wins. Assume that you go first, describe an algorithm to compute the maximum amount of money you can win.</p>

<p>There might be even or odd number of coins.</p></blockquote>

<h3>Analysis</h3>

<p><strong>There&rsquo;s a guaranteed &lsquo;win strategy&rsquo;</strong>, if the input array is even size. Find the sum of coins at even and odd positions respectively. Then, make sure you always take coin from even (or odd, whichever sum is bigger) position.</p>

<p>This strategy is clever and simple, but <strong>DOES NOT maximize your total sum</strong>, and coins must be even number.</p>

<h3>Solution</h3>

<p><strong>The optimized solution is to use <a href="http://tech-queries.blogspot.sg/2011/06/get-maximum-sum-from-coins-in-line.html">2D DP</a></strong>. Now we have array A and C(i, j) which is the maximum sum possible when remaining coins are from i to j.</p>

<p>You can take either i or j. Since the opponent is as smart as you, he would have chosen the choice that yields the minimum amount to you.</p>

<p>So, the final equation is:</p>

<blockquote><p>C(i, j) = MAX {</p>

<pre><code>      Ai + MIN{C(i+2, j), C(i+1, j-1)}, 

      Aj + MIN{C(i+1, j-1), C(i, j-2)} 
</code></pre>

<p>}</p></blockquote>

<p>If interested, read <strong>[Fundamental] Min-Max Algorithm</strong> for more.</p>

<h3>Code</h3>

<pre><code>public int maxMoney(int[] coins) {
    int len = coins.length;
    int[][] dp = new int[len][len];
    for (int i = len - 1; i &gt;= 0; i--) {
        for (int j = i; j &lt; len; j++) {
            if (i == j) {
                dp[i][j] = coins[i];
            } else if (i + 1 == j) {
                dp[i][j] = Math.max(coins[i], coins[j]);
            } else {
                int chooseHead = coins[i]
                        + Math.min(dp[i + 2][j], dp[i + 1][j - 1]);
                int chooseTail = coins[j]
                        + Math.min(dp[i][j - 2], dp[i + 1][j - 1]);
                dp[i][j] = Math.max(chooseHead, chooseTail);
            }
        }
    }
    return dp[0][len - 1];
}
</code></pre>

					<br />
					--EOF--
					<p>若无特别说明，本站文章均为原创，转载请保留链接，谢谢</p>
				</div>
				<div id="disqus_thread"></div>
				

<script type="text/javascript">
      var disqus_shortname = 'woodstockblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://okckd.github.io/blog/2014/07/27/Coins-in-Line/';
        var disqus_url = 'http://okckd.github.io/blog/2014/07/27/Coins-in-Line/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


			</div>
			
			<div id="footer">
				<span style="color:#bbb;font-size:12px">To do less than best is a sin.</span>
<p style="clear:both"></p>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
			</div>
		</div>
	</body>
</html>

